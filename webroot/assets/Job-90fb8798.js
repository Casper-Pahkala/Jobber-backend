import{az as J,ay as z,ax as I,r as u,c as $,aA as _,aB as v,aQ as s,t as e,aC as a,aF as N,Q as g,ab as c,aR as r,aH as l,aD as D,aP as y,aa as R,aS as S,aE as F,aT as T}from"./index-91e71f0e.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";import{V as m}from"./VContainer-bc256738.js";import{V as f}from"./VDivider-36af4a44.js";import{V as j}from"./VImg-10356683.js";import{V}from"./VRow-4fbc91c3.js";const E={class:"main-wrapper"},O={class:"main-content"},P={id:"job-title"},Q={id:"job-description"},H={class:"job-info"},L={class:"job-info"},M={class:"job-info"},U={class:"job-info"},q={key:0},G={class:"job-info"},K={class:"carousel"},W={__name:"Job",setup(X){const k=J(),C=z(),o=I(),t=u({}),p=u(""),w=$(()=>t.value.user&&o.user&&t.value.user.hashed_id===o.user.id),h=u(["mowing.jpg","no-image.svg"]),d=u([h.value[0]]);o.currentJobId=k.params.id,o.fetchJob(o.currentJobId).then(b=>{let n=b.data;n.error||(t.value=n.job,p.value=n.job.user.first_name+" "+n.job.user.last_name)});function x(){C.replace({path:"/jobs"})}window.scrollTo(0,0);function B(){o.chatOpen=!0}return(b,n)=>(_(),v("div",E,[s("div",O,[e(m,null,{default:a(()=>[e(g,{flat:"",rounded:"",id:"back-btn",onClick:x},{default:a(()=>[e(c,{icon:"mdi-arrow-left"})]),_:1}),s("h1",P,r(t.value.title),1),e(f),s("p",Q,r(t.value.description),1),e(f),s("div",H,[e(c,{icon:"mdi-map-marker"}),l(" "+r(t.value.location||"Seinäjoki"),1)]),s("div",L,[e(c,{icon:"mdi-calendar-range"}),l(" "+r(D(o).formatDate(t.value.date)),1)]),s("div",M,[e(c,{icon:"mdi-timer-outline"}),l(" "+r(t.value.estimated_time)+"h ",1)]),s("div",U,[e(c,{icon:"mdi-cash"}),l(" "+r(t.value.full_salary)+"€ ",1)])]),_:1}),e(f,{class:"mt-5 mb-5"}),w.value?N("",!0):(_(),v("div",q,[e(m,null,{default:a(()=>[s("div",G,[e(c,{icon:"mdi-account"}),l(" "+r(p.value),1)]),e(g,{class:"mt-4",color:"primary",onClick:n[0]||(n[0]=i=>B())},{default:a(()=>[l(" Ota yhteyttä ")]),_:1})]),_:1}),e(f,{class:"mt-5 mb-5"})])),e(m,{id:"images-container"},{default:a(()=>[e(m,{class:"main-image-container"},{default:a(()=>[e(j,{src:`/${d.value}`,"lazy-src":`/${d.value}`,contain:"",class:"job-image"},{placeholder:a(()=>[e(V,{class:"fill-height ma-0",align:"center",justify:"center"},{default:a(()=>[e(y,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src","lazy-src"])]),_:1}),s("div",K,[(_(!0),v(R,null,S(h.value,i=>(_(),F(j,{key:i,src:`/${i}`,"lazy-src":`/${i}`,contain:"",class:T(["carousel-img",i===d.value?"selected":""]),onClick:Y=>d.value=i},{placeholder:a(()=>[e(V,{class:"fill-height ma-0",align:"center",justify:"center"},{default:a(()=>[e(y,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:2},1032,["src","lazy-src","onClick","class"]))),128))])]),_:1})])]))}},ne=A(W,[["__scopeId","data-v-25e9ff33"]]);export{ne as default};
