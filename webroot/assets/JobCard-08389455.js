import{_ as L,Q as J,R as B,P as S,S as z,T as l,U as D,W as n,X as a,t as i,Y as e,a5 as I,N as y,V as M,ay as N,$ as _,ax as P,a0 as c,a1 as j,a7 as R,a4 as m,av as h,a2 as T}from"./index-ea86fad6.js";import{a as $}from"./VDivider-6059bda6.js";import{V as H,a as U,b as A}from"./VForm-8907a0f0.js";import{a as E}from"./VHover-76f0e6e5.js";const F={style:{position:"relative"},class:"job-wrapper"},Q={class:"job-content"},W={class:"job-main"},X={class:"job-title"},Y={class:"job-description"},q={class:"job-info"},G={class:"job-info-item"},K={class:"job-info-item mt-2"},O={key:0,class:"area-chip"},Z={key:0,style:{"line-height":"25px","letter-spacing":"2px"}},ee={key:0,class:"deleted"},te={key:0,class:"action-btns"},se={__name:"JobCard",props:["job","myListing"],setup(k){const g=k;window.scrollTo(0,0);const V=J();B();const r=S(),t=g.job,u=g.myListing;function C(s){V.push("/jobs/"+s.hashed_id)}function b(s,o){return s.job_images&&s.job_images.length>0?r.url+"/job-image/"+s.job_images[0].name:r.url+"/no-img.png"}function w(s){if(window.confirm("Haluatko varmasti poistaa listauksen "+s.title+"?")){const p={job_id:s.hashed_id};r.deleteListing(p).then(f=>{s.is_deleted=!0})}}return(s,o)=>{const p=z("router-link");return l(),D(E,null,{default:n(({isHovering:f,props:x})=>[a("div",F,[i(p,{to:"/jobs/"+e(t).hashed_id},{default:n(()=>[i(I,y({onClick:o[0]||(o[0]=d=>C(e(t))),class:"job",elevation:f?6:3},x),{default:n(()=>[i(M,{src:b(e(t)),"lazy-src":b(e(t),!0),cover:"",class:"job-image"},{placeholder:n(()=>[i($,{class:"fill-height ma-0",align:"center",justify:"center"},{default:n(()=>[i(N,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src","lazy-src"]),a("div",Q,[a("div",W,[a("div",X,_(e(t).title),1),a("div",Y,_(e(r).jobShortInfo(e(t))),1)]),a("div",q,[a("div",G,"Julkaistu "+_(e(r).formatDate(e(t).created_at,"DD.MM")),1),a("div",K,[a("div",{class:"area-container",style:P(e(u)?"margin-right: 50px;":"")},[(l(!0),c(j,null,R(e(t).area,(d,v)=>(l(),c(j,{key:v},[v<2?(l(),c("div",O,_(d),1)):m("",!0)],64))),128)),e(t).area.length>2?(l(),c("div",Z," +"+_(e(t).area.length-2),1)):m("",!0)],4)])])]),e(u)&&e(t).is_deleted?(l(),c("div",ee)):m("",!0)]),_:2},1040,["elevation"])]),_:2},1032,["to"]),e(u)?(l(),c("div",te,[i(H,{onClick:o[3]||(o[3]=h(()=>{},["stop"])),theme:e(r).lightTheme?"light":"dark"},{activator:n(({props:d})=>[i(T,y({onClick:o[1]||(o[1]=h(()=>{},["stop"]))},d,{icon:"mdi-dots-vertical",class:"more-btn",color:e(r).lightTheme?"grey-lighten-3":"grey-darken-3"}),null,16,["color"])]),default:n(()=>[i(U,null,{default:n(()=>[i(A,{onClick:o[2]||(o[2]=h(d=>w(e(t)),["stop"])),class:"menu-action-btn",title:"Poista listaus"})]),_:1})]),_:2},1032,["theme"])])):m("",!0)])]),_:1})}}},re=L(se,[["__scopeId","data-v-fb2c45b6"]]);export{re as J};
