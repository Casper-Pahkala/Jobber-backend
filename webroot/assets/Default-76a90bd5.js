import{p as Z,i as st,c as y,r as A,a as Be,u as Tt,b as ae,g as $t,s as U,o as Pe,d as It,f as Kt,e as Wt,h as Xt,j as qt,k as Ke,m as ye,l as xe,n as ne,q as ie,t,v as it,w as We,x as Ee,y as Ce,z as ze,A as ce,B as ut,C as Xe,D as Re,E as Te,F as rt,G as Mt,V as we,H as Ve,I as Zt,J as Jt,K as q,L as qe,M as Ue,N as le,O as Gt,P as Qt,Q as R,R as ea,S as ta,T as aa,U as la,W as na,X as oa,Y as sa,Z as K,_ as jt,$ as $e,a0 as he,a1 as ct,a2 as ia,a3 as I,a4 as E,a5 as i,a6 as j,a7 as O,a8 as fe,a9 as L,aa as x,ab as N,ac as te,ad as Se,ae as lt,af as ua,ag as ge,ah as dt,ai as ee,aj as Ze,ak as Je,al as ra,am as ue,an as nt,ao as ca,ap as da,aq as va,ar as ma,as as fa,at as Lt,au as Bt,av as Dt,aw as At,ax as ga,ay as ya,az as Ht,aA as Pt,aB as ha,aC as pa,aD as Et,aE as me,aF as Rt,aG as ot,aH as De,aI as yt,aJ as _a,aK as ka,aL as ba,aM as wa,aN as Va,aO as Sa}from"./index-55751b84.js";import{u as vt,a as Yt,V as at,b as X,c as ht,d as pt,e as _t,f as re,g as Nt,m as xa,h as kt}from"./VForm-97fef2d2.js";import{V as Ae,a as ve}from"./VDivider-9b0f9336.js";import{V as Ca,a as bt}from"./VTabs-524ea1da.js";import{V as wt,a as Ta}from"./VTextarea-c08742ab.js";import{V as He,a as $a}from"./VHover-597a93e7.js";import{V as Ne}from"./VSkeletonLoader-9a6f69a0.js";const Fe=Symbol.for("vuetify:layout"),Ut=Symbol.for("vuetify:layout-item"),Vt=1e3,Ia=Z({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),mt=Z({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Ma(){const e=st(Fe);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function ft(e){const l=st(Fe);if(!l)throw new Error("[Vuetify] Could not find injected layout");const a=e.id??`layout-item-${Wt()}`,n=$t("useLayoutItem");It(Ut,{id:a});const o=U(!1);Xt(()=>o.value=!0),qt(()=>o.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:r}=l.register(n,{...e,active:y(()=>o.value?!1:e.active.value),id:a});return Ke(()=>l.unregister(a)),{layoutItemStyles:s,layoutRect:l.layoutRect,layoutItemScrimStyles:r}}const ja=(e,l,a,n)=>{let o={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...o}}];for(const r of e){const v=l.get(r),f=a.get(r),u=n.get(r);if(!v||!f||!u)continue;const d={...o,[v.value]:parseInt(o[v.value],10)+(u.value?parseInt(f.value,10):0)};s.push({id:r,layer:d}),o=d}return s};function La(e){const l=st(Fe,null),a=y(()=>l?l.rootZIndex.value-100:Vt),n=A([]),o=Be(new Map),s=Be(new Map),r=Be(new Map),v=Be(new Map),f=Be(new Map),{resizeRef:u,contentRect:d}=Tt(),S=y(()=>{const g=new Map,w=e.overlaps??[];for(const b of w.filter(H=>H.includes(":"))){const[H,B]=b.split(":");if(!n.value.includes(H)||!n.value.includes(B))continue;const W=o.get(H),J=o.get(B),oe=s.get(H),Q=s.get(B);!W||!J||!oe||!Q||(g.set(B,{position:W.value,amount:parseInt(oe.value,10)}),g.set(H,{position:J.value,amount:-parseInt(Q.value,10)}))}return g}),h=y(()=>{const g=[...new Set([...r.values()].map(b=>b.value))].sort((b,H)=>b-H),w=[];for(const b of g){const H=n.value.filter(B=>{var W;return((W=r.get(B))==null?void 0:W.value)===b});w.push(...H)}return ja(w,o,s,v)}),_=y(()=>!Array.from(f.values()).some(g=>g.value)),M=y(()=>h.value[h.value.length-1].layer),D=y(()=>({"--v-layout-left":ae(M.value.left),"--v-layout-right":ae(M.value.right),"--v-layout-top":ae(M.value.top),"--v-layout-bottom":ae(M.value.bottom),..._.value?void 0:{transition:"none"}})),P=y(()=>h.value.slice(1).map((g,w)=>{let{id:b}=g;const{layer:H}=h.value[w],B=s.get(b),W=o.get(b);return{id:b,...H,size:Number(B.value),position:W.value}})),$=g=>P.value.find(w=>w.id===g),V=$t("createLayout"),c=U(!1);Pe(()=>{c.value=!0}),It(Fe,{register:(g,w)=>{let{id:b,order:H,position:B,layoutSize:W,elementSize:J,active:oe,disableTransitions:Q,absolute:Ie}=w;r.set(b,H),o.set(b,B),s.set(b,W),v.set(b,oe),Q&&f.set(b,Q);const _e=Kt(Ut,V==null?void 0:V.vnode).indexOf(g);_e>-1?n.value.splice(_e,0,b):n.value.push(b);const ke=y(()=>P.value.findIndex(Y=>Y.id===b)),T=y(()=>a.value+h.value.length*2-ke.value*2),p=y(()=>{const Y=B.value==="left"||B.value==="right",z=B.value==="right",se=B.value==="bottom",de={[B.value]:0,zIndex:T.value,transform:`translate${Y?"X":"Y"}(${(oe.value?0:-110)*(z||se?-1:1)}%)`,position:Ie.value||a.value!==Vt?"absolute":"fixed",..._.value?void 0:{transition:"none"}};if(!c.value)return de;const F=P.value[ke.value];if(!F)throw new Error(`[Vuetify] Could not find layout item "${b}"`);const Me=S.value.get(b);return Me&&(F[Me.position]+=Me.amount),{...de,height:Y?`calc(100% - ${F.top}px - ${F.bottom}px)`:J.value?`${J.value}px`:void 0,left:z?void 0:`${F.left}px`,right:z?`${F.right}px`:void 0,top:B.value!=="bottom"?`${F.top}px`:void 0,bottom:B.value!=="top"?`${F.bottom}px`:void 0,width:Y?J.value?`${J.value}px`:void 0:`calc(100% - ${F.left}px - ${F.right}px)`}}),C=y(()=>({zIndex:T.value-1}));return{layoutItemStyles:p,layoutItemScrimStyles:C,zIndex:T}},unregister:g=>{r.delete(g),o.delete(g),s.delete(g),v.delete(g),f.delete(g),n.value=n.value.filter(w=>w!==g)},mainRect:M,mainStyles:D,getLayoutItem:$,items:P,layoutRect:d,rootZIndex:a});const m=y(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),k=y(()=>({zIndex:l?a.value:void 0,position:l?"relative":void 0,overflow:l?"hidden":void 0}));return{layoutClasses:m,layoutStyles:k,getLayoutItem:$,items:P,layoutRect:d,layoutRef:u}}const Ba=Z({text:String,...ye(),...xe()},"VToolbarTitle"),Da=ne()({name:"VToolbarTitle",props:Ba(),setup(e,l){let{slots:a}=l;return ie(()=>{const n=!!(a.default||a.text||e.text);return t(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var o;return[n&&t("div",{class:"v-toolbar-title__placeholder"},[a.text?a.text():e.text,(o=a.default)==null?void 0:o.call(a)])]}})}),{}}}),Aa=[null,"prominent","default","comfortable","compact"],Ot=Z({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Aa.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...it(),...ye(),...We(),...Ee(),...xe({tag:"header"}),...Ce()},"VToolbar"),St=ne()({name:"VToolbar",props:Ot(),setup(e,l){var _;let{slots:a}=l;const{backgroundColorClasses:n,backgroundColorStyles:o}=ze(ce(e,"color")),{borderClasses:s}=ut(e),{elevationClasses:r}=Xe(e),{roundedClasses:v}=Re(e),{themeClasses:f}=Te(e),{rtlClasses:u}=rt(),d=U(!!(e.extended||(_=a.extension)!=null&&_.call(a))),S=y(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),h=y(()=>d.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Mt({VBtn:{variant:"text"}}),ie(()=>{var $;const M=!!(e.title||a.title),D=!!(a.image||e.image),P=($=a.extension)==null?void 0:$.call(a);return d.value=!!(e.extended||P),t(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},n.value,s.value,r.value,v.value,f.value,u.value,e.class],style:[o.value,e.style]},{default:()=>[D&&t("div",{key:"image",class:"v-toolbar__image"},[a.image?t(Ve,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):t(we,{key:"image-img",cover:!0,src:e.image},null)]),t(Ve,{defaults:{VTabs:{height:ae(S.value)}}},{default:()=>{var V,c,m;return[t("div",{class:"v-toolbar__content",style:{height:ae(S.value)}},[a.prepend&&t("div",{class:"v-toolbar__prepend"},[(V=a.prepend)==null?void 0:V.call(a)]),M&&t(Da,{key:"title",text:e.title},{text:a.title}),(c=a.default)==null?void 0:c.call(a),a.append&&t("div",{class:"v-toolbar__append"},[(m=a.append)==null?void 0:m.call(a)])])]}}),t(Ve,{defaults:{VTabs:{height:ae(h.value)}}},{default:()=>[t(Zt,null,{default:()=>[d.value&&t("div",{class:"v-toolbar__extension",style:{height:ae(h.value)}},[P])]})]})]})}),{contentHeight:S,extensionHeight:h}}}),Ha=Z({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Pa(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a}=l;let n=0;const o=A(null),s=U(0),r=U(0),v=U(0),f=U(!1),u=U(!1),d=y(()=>Number(e.scrollThreshold)),S=y(()=>Jt((d.value-s.value)/d.value||0)),h=()=>{const _=o.value;!_||a&&!a.value||(n=s.value,s.value="window"in _?_.pageYOffset:_.scrollTop,u.value=s.value<n,v.value=Math.abs(s.value-d.value))};return q(u,()=>{r.value=r.value||s.value}),q(f,()=>{r.value=0}),Pe(()=>{q(()=>e.scrollTarget,_=>{var D;const M=_?document.querySelector(_):window;M&&M!==o.value&&((D=o.value)==null||D.removeEventListener("scroll",h),o.value=M,o.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),Ke(()=>{var _;(_=o.value)==null||_.removeEventListener("scroll",h)}),a&&q(a,h,{immediate:!0}),{scrollThreshold:d,currentScroll:s,currentThreshold:v,isScrollActive:f,scrollRatio:S,isScrollingUp:u,savedScroll:r}}const Ea=Z({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Ot(),...mt(),...Ha(),height:{type:[Number,String],default:64}},"VAppBar"),Ra=ne()({name:"VAppBar",props:Ea(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const n=A(),o=qe(e,"modelValue"),s=y(()=>{var V;const $=new Set(((V=e.scrollBehavior)==null?void 0:V.split(" "))??[]);return{hide:$.has("hide"),inverted:$.has("inverted"),collapse:$.has("collapse"),elevate:$.has("elevate"),fadeImage:$.has("fade-image")}}),r=y(()=>{const $=s.value;return $.hide||$.inverted||$.collapse||$.elevate||$.fadeImage||!o.value}),{currentScroll:v,scrollThreshold:f,isScrollingUp:u,scrollRatio:d}=Pa(e,{canScroll:r}),S=y(()=>e.collapse||s.value.collapse&&(s.value.inverted?d.value>0:d.value===0)),h=y(()=>e.flat||s.value.elevate&&(s.value.inverted?v.value>0:v.value===0)),_=y(()=>s.value.fadeImage?s.value.inverted?1-d.value:d.value:void 0),M=y(()=>{var c,m;if(s.value.hide&&s.value.inverted)return 0;const $=((c=n.value)==null?void 0:c.contentHeight)??0,V=((m=n.value)==null?void 0:m.extensionHeight)??0;return $+V});Ue(y(()=>!!e.scrollBehavior),()=>{Gt(()=>{s.value.hide?s.value.inverted?o.value=v.value>f.value:o.value=u.value||v.value<f.value:o.value=!0})});const{ssrBootStyles:D}=vt(),{layoutItemStyles:P}=ft({id:e.name,order:y(()=>parseInt(e.order,10)),position:ce(e,"location"),layoutSize:M,elementSize:U(void 0),active:o,absolute:ce(e,"absolute")});return ie(()=>{const $=St.filterProps(e);return t(St,le({ref:n,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...P.value,"--v-toolbar-image-opacity":_.value,height:void 0,...D.value},e.style]},$,{collapse:S.value,flat:h.value}),a)}),{}}}),Ya=Z({...Qt({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Na=ne()({name:"VAppBarNavIcon",props:Ya(),setup(e,l){let{slots:a}=l;return ie(()=>t(R,le(e,{class:["v-app-bar-nav-icon"]}),a)),{}}});function Ua(e){let{rootEl:l,isSticky:a,layoutItemStyles:n}=e;const o=U(!1),s=U(0),r=y(()=>{const u=typeof o.value=="boolean"?"top":o.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[u]:ae(s.value)}:{top:n.value.top}]});Pe(()=>{q(a,u=>{u?window.addEventListener("scroll",f,{passive:!0}):window.removeEventListener("scroll",f)},{immediate:!0})}),Ke(()=>{window.removeEventListener("scroll",f)});let v=0;function f(){const u=v>window.scrollY?"up":"down",d=l.value.getBoundingClientRect(),S=parseFloat(n.value.top??0),h=window.scrollY-Math.max(0,s.value-S),_=d.height+Math.max(s.value,S)-window.scrollY-window.innerHeight,M=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-S?(o.value="top",s.value=S):u==="up"&&o.value==="bottom"||u==="down"&&o.value==="top"?(s.value=window.scrollY+d.top-M,o.value=!0):u==="down"&&_<=0?(s.value=0,o.value="bottom"):u==="up"&&h<=0&&(M?o.value!=="top"&&(s.value=-h+M+S,o.value="top"):(s.value=d.top+h,o.value="top")),v=window.scrollY}return{isStuck:o,stickyStyles:r}}const Oa=100,za=20;function xt(e){const l=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*l}function Ct(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let l=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const n=xt(l),o=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);l+=(o-n)*Math.abs(o),a===e.length-1&&(l*=.5)}return xt(l)*1e3}function Fa(){const e={};function l(o){Array.from(o.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new ea(za))).push([o.timeStamp,s])})}function a(o){Array.from(o.changedTouches).forEach(s=>{delete e[s.identifier]})}function n(o){var u;const s=(u=e[o])==null?void 0:u.values().reverse();if(!s)throw new Error(`No samples for touch id ${o}`);const r=s[0],v=[],f=[];for(const d of s){if(r[0]-d[0]>Oa)break;v.push({t:d[0],d:d[1].clientX}),f.push({t:d[0],d:d[1].clientY})}return{x:Ct(v),y:Ct(f),get direction(){const{x:d,y:S}=this,[h,_]=[Math.abs(d),Math.abs(S)];return h>_&&d>=0?"right":h>_&&d<=0?"left":_>h&&S>=0?"down":_>h&&S<=0?"up":Ka()}}}return{addMovement:l,endTouch:a,getVelocity:n}}function Ka(){throw new Error}function Wa(e){let{isActive:l,isTemporary:a,width:n,touchless:o,position:s}=e;Pe(()=>{window.addEventListener("touchstart",$,{passive:!0}),window.addEventListener("touchmove",V,{passive:!1}),window.addEventListener("touchend",c,{passive:!0})}),Ke(()=>{window.removeEventListener("touchstart",$),window.removeEventListener("touchmove",V),window.removeEventListener("touchend",c)});const r=y(()=>["left","right"].includes(s.value)),{addMovement:v,endTouch:f,getVelocity:u}=Fa();let d=!1;const S=U(!1),h=U(0),_=U(0);let M;function D(k,g){return(s.value==="left"?k:s.value==="right"?document.documentElement.clientWidth-k:s.value==="top"?k:s.value==="bottom"?document.documentElement.clientHeight-k:be())-(g?n.value:0)}function P(k){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const w=s.value==="left"?(k-_.value)/n.value:s.value==="right"?(document.documentElement.clientWidth-k-_.value)/n.value:s.value==="top"?(k-_.value)/n.value:s.value==="bottom"?(document.documentElement.clientHeight-k-_.value)/n.value:be();return g?Math.max(0,Math.min(1,w)):w}function $(k){if(o.value)return;const g=k.changedTouches[0].clientX,w=k.changedTouches[0].clientY,b=25,H=s.value==="left"?g<b:s.value==="right"?g>document.documentElement.clientWidth-b:s.value==="top"?w<b:s.value==="bottom"?w>document.documentElement.clientHeight-b:be(),B=l.value&&(s.value==="left"?g<n.value:s.value==="right"?g>document.documentElement.clientWidth-n.value:s.value==="top"?w<n.value:s.value==="bottom"?w>document.documentElement.clientHeight-n.value:be());(H||B||l.value&&a.value)&&(d=!0,M=[g,w],_.value=D(r.value?g:w,l.value),h.value=P(r.value?g:w),f(k),v(k))}function V(k){const g=k.changedTouches[0].clientX,w=k.changedTouches[0].clientY;if(d){if(!k.cancelable){d=!1;return}const H=Math.abs(g-M[0]),B=Math.abs(w-M[1]);(r.value?H>B&&H>3:B>H&&B>3)?(S.value=!0,d=!1):(r.value?B:H)>3&&(d=!1)}if(!S.value)return;k.preventDefault(),v(k);const b=P(r.value?g:w,!1);h.value=Math.max(0,Math.min(1,b)),b>1?_.value=D(r.value?g:w,!0):b<0&&(_.value=D(r.value?g:w,!1))}function c(k){if(d=!1,!S.value)return;v(k),S.value=!1;const g=u(k.changedTouches[0].identifier),w=Math.abs(g.x),b=Math.abs(g.y);(r.value?w>b&&w>400:b>w&&b>3)?l.value=g.direction===({left:"right",right:"left",top:"down",bottom:"up"}[s.value]||be()):l.value=h.value>.5}const m=y(()=>S.value?{transform:s.value==="left"?`translateX(calc(-100% + ${h.value*n.value}px))`:s.value==="right"?`translateX(calc(100% - ${h.value*n.value}px))`:s.value==="top"?`translateY(calc(-100% + ${h.value*n.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${h.value*n.value}px))`:be(),transition:"none"}:void 0);return{isDragging:S,dragProgress:h,dragStyles:m}}function be(){throw new Error}const Xa=["start","end","left","right","top","bottom"],qa=Z({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Xa.includes(e)},sticky:Boolean,...it(),...ye(),...ta(),...We(),...mt(),...Ee(),...xe({tag:"nav"}),...Ce()},"VNavigationDrawer"),Za=ne()({name:"VNavigationDrawer",props:qa(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,l){let{attrs:a,emit:n,slots:o}=l;const{isRtl:s}=rt(),{themeClasses:r}=Te(e),{borderClasses:v}=ut(e),{backgroundColorClasses:f,backgroundColorStyles:u}=ze(ce(e,"color")),{elevationClasses:d}=Xe(e),{displayClasses:S,mobile:h}=aa(e),{roundedClasses:_}=Re(e),M=la(),D=qe(e,"modelValue",null,p=>!!p),{ssrBootStyles:P}=vt(),{scopeId:$}=Yt(),V=A(),c=U(!1),m=y(()=>e.rail&&e.expandOnHover&&c.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),k=y(()=>na(e.location,s.value)),g=y(()=>!e.permanent&&(h.value||e.temporary)),w=y(()=>e.sticky&&!g.value&&k.value!=="bottom");Ue(()=>e.expandOnHover&&e.rail!=null,()=>{q(c,p=>n("update:rail",!p))}),Ue(()=>!e.disableResizeWatcher,()=>{q(g,p=>!e.permanent&&jt(()=>D.value=!p))}),Ue(()=>!e.disableRouteWatcher&&!!M,()=>{q(M.currentRoute,()=>g.value&&(D.value=!1))}),q(()=>e.permanent,p=>{p&&(D.value=!0)}),oa(()=>{e.modelValue!=null||g.value||(D.value=e.permanent||!h.value)});const{isDragging:b,dragProgress:H,dragStyles:B}=Wa({isActive:D,isTemporary:g,width:m,touchless:ce(e,"touchless"),position:k}),W=y(()=>{const p=g.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):m.value;return b.value?p*H.value:p}),{layoutItemStyles:J,layoutItemScrimStyles:oe}=ft({id:e.name,order:y(()=>parseInt(e.order,10)),position:k,layoutSize:W,elementSize:m,active:y(()=>D.value||b.value),disableTransitions:y(()=>b.value),absolute:y(()=>e.absolute||w.value&&typeof Q.value!="string")}),{isStuck:Q,stickyStyles:Ie}=Ua({rootEl:V,isSticky:w,layoutItemStyles:J}),pe=ze(y(()=>typeof e.scrim=="string"?e.scrim:null)),_e=y(()=>({...b.value?{opacity:H.value*.2,transition:"none"}:void 0,...oe.value}));Mt({VList:{bgColor:"transparent"}});function ke(){c.value=!0}function T(){c.value=!1}return ie(()=>{const p=o.image||e.image;return t(K,null,[t(e.tag,le({ref:V,onMouseenter:ke,onMouseleave:T,class:["v-navigation-drawer",`v-navigation-drawer--${k.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":c.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":g.value,"v-navigation-drawer--active":D.value,"v-navigation-drawer--sticky":w.value},r.value,f.value,v.value,S.value,d.value,_.value,e.class],style:[u.value,J.value,B.value,P.value,Ie.value,e.style]},$,a),{default:()=>{var C,Y,z,se;return[p&&t("div",{key:"image",class:"v-navigation-drawer__img"},[o.image?(C=o.image)==null?void 0:C.call(o,{image:e.image}):t("img",{src:e.image,alt:""},null)]),o.prepend&&t("div",{class:"v-navigation-drawer__prepend"},[(Y=o.prepend)==null?void 0:Y.call(o)]),t("div",{class:"v-navigation-drawer__content"},[(z=o.default)==null?void 0:z.call(o)]),o.append&&t("div",{class:"v-navigation-drawer__append"},[(se=o.append)==null?void 0:se.call(o)])]}}),t(sa,{name:"fade-transition"},{default:()=>[g.value&&(b.value||D.value)&&!!e.scrim&&t("div",le({class:["v-navigation-drawer__scrim",pe.backgroundColorClasses.value],style:[_e.value,pe.backgroundColorStyles.value],onClick:()=>D.value=!1},$),null)]})])}),{isStuck:Q}}}),Ja=e=>(Ze("data-v-0ba6f679"),e=e(),Je(),e),Ga={class:"unseen-wrapper"},Qa={key:0,class:"unseen-count"},el=Ja(()=>x("div",{class:"not-seen"},null,-1)),tl={class:"latest-message"},al={class:"message"},ll={class:"messages-count"},nl={key:1,class:"no-messages-text"},ol={__name:"AppBar",setup(e){const l=he(),a=A(!1),n=ct(),o=ia(),s=A(!1),r=A(!1);let v=o.name||"jobs";l.tab=v;const f=["profile","messages","listings"];function u(V){if(s.value=!1,r.value=!1,a.value=!1,f.includes(V)){l.tab="account",V==="profile"?n.push("/account"):n.push("/account/"+V);return}setTimeout(()=>{n.push(`/${V}`),l.tab=V},10),setTimeout(()=>{l.updateMainComponent++},100)}function d(){l.logOut()}function S(V){s.value=!1,l.openChat(V)}const h=[{title:"Tili",onClick:()=>u("profile"),icon:"mdi-account"},{title:"Viestit",onClick:()=>u("messages"),icon:"mdi-message-text"},{title:"Omat listaukset",onClick:()=>u("listings"),icon:"mdi-clipboard-account"},{title:"Kirjaudu ulos",onClick:()=>d(),icon:"mdi-logout"}],_=y(()=>l.unseenMessages),M=y(()=>l.allUnseenMessages);function D(V){return M.value.filter(c=>c.job_hashed_id===V.job_hashed_id&&c.other_user_id===V.other_user_id).length}setTimeout(()=>{l.tab=v},1);function P(V){return ee(V).isSame(ee(),"day")?"Tänään "+ee(V).format("HH:mm"):ee(V).isSame(ee().clone().subtract(1,"days"),"day")?"Eilen "+ee(V).format("HH:mm"):ee(V).format("DD.MM HH:mm")}function $(){l.feedbackDialog=!0,a.value=!1}return(V,c)=>(I(),E(K,null,[t(Za,{modelValue:a.value,"onUpdate:modelValue":c[11]||(c[11]=m=>a.value=m),temporary:""},{default:i(()=>[t(at,null,{default:i(()=>[j(l).user?(I(),E(K,{key:0},[j(l).user.has_image?(I(),O(X,{key:0,"prepend-avatar":j(l).user.profileImageUrl,title:j(l).user.first_name+" "+j(l).user.last_name,subtitle:j(l).user.email,class:"drawer-item pb-4 pt-2",active:!1,onClick:c[0]||(c[0]=m=>u("profile"))},null,8,["prepend-avatar","title","subtitle"])):fe("",!0),t(X,{"prepend-icon":"mdi-message-text",title:"Viestit",active:!1,onClick:c[1]||(c[1]=m=>u("messages")),class:"drawer-item"}),t(X,{"prepend-icon":"mdi-clipboard-account",title:"Omat ilmoitukset",active:!1,onClick:c[2]||(c[2]=m=>u("listings")),class:"drawer-item"})],64)):(I(),O(X,{key:1},{default:i(()=>[t(R,{text:"90",rounded:"lg",class:"text-none bg-primary mb-3 mt-2 drawer-login-btn",onClick:c[3]||(c[3]=m=>j(l).loginDialogShowing=!0)},{default:i(()=>[L("Kirjaudu sisään")]),_:1})]),_:1})),t(Ae,{class:"mt-2 mb-2"}),t(X,{"prepend-icon":"mdi-briefcase",title:"Työt",onClick:c[4]||(c[4]=m=>u("jobs")),active:!1,class:"drawer-item"}),t(X,{"prepend-icon":"mdi-account-group",title:"Henkilöt ja palvelut",onClick:c[5]||(c[5]=m=>u("workers")),active:!1,class:"drawer-item"}),t(Ae,{class:"mt-2 mb-2"}),t(X,{"prepend-icon":"mdi-headset",title:"Asiakastuki",onClick:c[6]||(c[6]=m=>u("jobs")),active:!1,class:"drawer-item"}),t(X,{"prepend-icon":"mdi-information",title:"Tietoa meistä",onClick:c[7]||(c[7]=m=>u("jobs")),active:!1,class:"drawer-item"}),t(X,{"prepend-icon":"mdi-shield",title:"Tietosuojakäytäntö",onClick:c[8]||(c[8]=m=>u("jobs")),active:!1,class:"drawer-item"}),t(X,{"prepend-icon":"mdi-comment",title:"Anna palautetta",onClick:c[9]||(c[9]=m=>$()),active:!1,class:"drawer-item"}),j(l).user?(I(),E(K,{key:2},[t(Ae,{class:"mt-2 mb-2"}),t(X,{"prepend-icon":"mdi-logout",title:"Kirjaudu ulos",onClick:c[10]||(c[10]=m=>d()),active:!1,class:"drawer-item"})],64)):fe("",!0)]),_:1})]),_:1},8,["modelValue"]),t(Ra,null,{append:i(()=>[j(l).user?(I(),E(K,{key:0},[t(R,{"prepend-icon":"mdi-plus",class:"mr-5",style:{height:"100%"},onClick:c[16]||(c[16]=m=>u("add-job"))},{default:i(()=>[L(" Luo listaus ")]),_:1}),t(ht,{modelValue:s.value,"onUpdate:modelValue":c[18]||(c[18]=m=>s.value=m),class:"mr-1","close-on-content-click":!1},{activator:i(({props:m})=>[x("div",Ga,[t(R,le({icon:"mdi-message-text"},m),null,16),_.value.length>0?(I(),E("div",Qa,N(M.value.length),1)):fe("",!0)])]),default:i(()=>[t(te,null,{default:i(()=>[t(Se,{style:{"font-size":"18px"}},{default:i(()=>[L(" Lukemattomat viestit ")]),_:1}),x("div",{class:"show-all-messages",onClick:c[17]||(c[17]=m=>u("messages"))}," Näytä kaikki "),t(Ae),_.value.length>0?(I(),O(at,{key:0,class:"recent-messages"},{default:i(()=>[(I(!0),E(K,null,lt(_.value,(m,k)=>(I(),O(X,{key:k,value:k,class:"pt-4 pb-4",onClick:g=>S(m)},{prepend:i(()=>[el,t(ua,{size:"50px"},{default:i(()=>[t(we,{alt:"Avatar",src:`${j(l).url}/profile-image/${m.other_user_id}.jpg`},null,8,["src"])]),_:2},1024)]),default:i(()=>[t(pt,null,{default:i(()=>[L(N(m.other_full_name),1)]),_:2},1024),t(_t,{style:{opacity:"1"},class:"pt-1"},{default:i(()=>[L(N(m.job_title),1)]),_:2},1024),t(_t,{class:"pt-1"},{default:i(()=>[x("div",tl,[x("div",al,N(m.message),1),t(ge,{icon:"mdi-circle",size:"6"}),L(" "+N(P(m.time)),1)])]),_:2},1024),x("div",ll,N(D(m)),1)]),_:2},1032,["value","onClick"]))),128))]),_:1})):(I(),E("div",nl," Tyhjää täynnä "))]),_:1})]),_:1},8,["modelValue"]),t(ht,{"close-on-content-click":!1,modelValue:r.value,"onUpdate:modelValue":c[19]||(c[19]=m=>r.value=m)},{activator:i(({props:m})=>[t(R,le({icon:"mdi-account"},m),null,16)]),default:i(()=>[t(at,{"min-width":"180px"},{default:i(()=>[(I(),E(K,null,lt(h,(m,k)=>t(X,{key:k,value:k,onClick:g=>m.onClick(),"append-icon":m.icon??""},{default:i(()=>[t(pt,null,{default:i(()=>[L(N(m.title),1)]),_:2},1024)]),_:2},1032,["value","onClick","append-icon"])),64))]),_:1})]),_:1},8,["modelValue"])],64)):(I(),O(R,{key:1,size:"small",text:"81",rounded:"xl",class:"text-none login-btn bg-primary",onClick:c[20]||(c[20]=m=>j(l).loginDialogShowing=!0)},{default:i(()=>[L("Kirjaudu sisään")]),_:1}))]),default:i(()=>[t(Na,{onClick:c[12]||(c[12]=dt(m=>a.value=!a.value,["stop"]))}),t(Ca,{class:"d-none d-sm-flex",modelValue:j(l).tab,"onUpdate:modelValue":c[15]||(c[15]=m=>j(l).tab=m)},{default:i(()=>[t(bt,{onClick:c[13]||(c[13]=m=>u("jobs")),value:"jobs",class:"text-none tab"},{default:i(()=>[L("Avoimet työt")]),_:1}),t(bt,{onClick:c[14]||(c[14]=m=>u("workers")),value:"workers",class:"text-none tab"},{default:i(()=>[L("Henkilöt ja palvelut")]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}},sl=$e(ol,[["__scopeId","data-v-0ba6f679"]]),il="/tiktok.svg";const ul=Z({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...it(),...ye(),...We(),...mt(),...Ee(),...xe({tag:"footer"}),...Ce()},"VFooter"),rl=ne()({name:"VFooter",props:ul(),setup(e,l){let{slots:a}=l;const{themeClasses:n}=Te(e),{backgroundColorClasses:o,backgroundColorStyles:s}=ze(ce(e,"color")),{borderClasses:r}=ut(e),{elevationClasses:v}=Xe(e),{roundedClasses:f}=Re(e),u=U(32),{resizeRef:d}=Tt(_=>{_.length&&(u.value=_[0].target.clientHeight)}),S=y(()=>e.height==="auto"?u.value:parseInt(e.height,10)),{layoutItemStyles:h}=ft({id:e.name,order:y(()=>parseInt(e.order,10)),position:y(()=>"bottom"),layoutSize:S,elementSize:y(()=>e.height==="auto"?void 0:S.value),active:y(()=>e.app),absolute:ce(e,"absolute")});return ie(()=>t(e.tag,{ref:d,class:["v-footer",n.value,o.value,r.value,v.value,f.value,e.class],style:[s.value,e.app?h.value:{height:ae(e.height)},e.style]},a)),{}}});const cl=Z({scrollable:Boolean,...ye(),...xe({tag:"main"})},"VMain"),dl=ne()({name:"VMain",props:cl(),setup(e,l){let{slots:a}=l;const{mainStyles:n}=Ma(),{ssrBootStyles:o}=vt();return ie(()=>t(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[n.value,o.value,e.style]},{default:()=>{var s,r;return[e.scrollable?t("div",{class:"v-main__scroller"},[(s=a.default)==null?void 0:s.call(a)]):(r=a.default)==null?void 0:r.call(a)]}})),{}}}),vl={data:()=>({icons:["mdi-facebook","mdi-twitter","mdi-instagram"],store:he(),feedback:{message:""}}),mounted(){},methods:{closeDialog(){this.store.maintenanceDialog=!1},submitFeedback(){console.log(this.feedback),this.store.sendFeedback(this.feedback)}},computed:{dialog(){return this.store.maintenanceDialog}}},Ye=e=>(Ze("data-v-838b813e"),e=e(),Je(),e),ml={style:{"min-height":"calc(100vh - 64px)"}},fl=Ye(()=>x("h4",{class:"title"},"Käytäntömme",-1)),gl=Ye(()=>x("div",{class:"policy"},[x("a",{class:"footer-link"}," Tietosuojakäytäntö "),x("div",{class:"divider"}),x("a",{class:"footer-link"}," Ehdot "),x("div",{class:"divider"}),x("a",{class:"footer-link"}," Ohje ja tuki ")],-1)),yl=Ye(()=>x("h4",{class:"title mt-5"},"Sosiaalinen media",-1)),hl={class:"pb-10"},pl=Ye(()=>x("img",{style:{filter:"brightness(0) invert(1)",width:"50%"},src:il},null,-1)),_l=Ye(()=>x("span",{class:"headline pl-8"},"Anna palautetta tai ehdotuksia",-1));function kl(e,l,a,n,o,s){const r=ra("router-view");return I(),E(K,null,[t(dl,null,{default:i(()=>[x("div",ml,[t(r)]),t(rl,{class:"footer bg-grey-darken-4 text-center d-flex flex-column pt-10"},{default:i(()=>[fl,gl,yl,x("div",hl,[t(R,{class:"mx-4",variant:"text",href:"https://www.instagram.com/rekrytorsuomi/",target:"_blank",icon:"mdi-instagram"}),t(R,{class:"mx-4",variant:"text",icon:"",href:"https://www.tiktok.com/@rekrytorsuomi",target:"_blank"},{default:i(()=>[pl]),_:1})])]),_:1})]),_:1}),t(re,{modelValue:s.dialog,"onUpdate:modelValue":l[1]||(l[1]=v=>s.dialog=v),width:"400px",persistent:""},{default:i(()=>[t(te,null,{default:i(()=>[t(Se,{class:"headline"},{default:i(()=>[L("Sivusto Kehityksessä")]),_:1}),t(ue,null,{default:i(()=>[L(" Tervetuloa rekrytor.fi-sivustolle! Huomioithan, että sivusto on parhaillaan kehitysvaiheessa ja tarkastelet demo versiota. Kaikki data on väliaikaista ja suojaamatonta. ")]),_:1}),t(ue,null,{default:i(()=>[L(" Jos sinulla on ehdotuksia, voit kertoa ne oikeasta alakulmasta. ")]),_:1}),t(ue,null,{default:i(()=>[L("Jatkamalla hyväksyt nämä ehdot.")]),_:1}),t(nt,null,{default:i(()=>[t(wt),t(R,{color:"green darken-1",text:"",onClick:l[0]||(l[0]=v=>s.closeDialog())},{default:i(()=>[L("Hyväksy")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(R,{id:"feedback-btn",icon:"mdi-comment",size:"large",onClick:l[2]||(l[2]=v=>e.store.feedbackDialog=!0),color:"primary"}),t(re,{modelValue:e.store.feedbackDialog,"onUpdate:modelValue":l[5]||(l[5]=v=>e.store.feedbackDialog=v),persistent:"","max-width":"600px"},{default:i(()=>[t(te,null,{default:i(()=>[t(Se,null,{default:i(()=>[_l]),_:1}),t(ue,null,{default:i(()=>[t(ca,null,{default:i(()=>[t(ve,null,{default:i(()=>[t(He,{cols:"12"},{default:i(()=>[t(Ta,{label:"Viesti",modelValue:e.feedback.message,"onUpdate:modelValue":l[3]||(l[3]=v=>e.feedback.message=v),required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(nt,null,{default:i(()=>[t(wt),t(R,{color:"blue darken-1",text:"",onClick:l[4]||(l[4]=v=>e.store.feedbackDialog=!1)},{default:i(()=>[L("Peruuta")]),_:1}),t(R,{color:"blue darken-1",text:"",onClick:s.submitFeedback,disabled:e.feedback.message.length<1},{default:i(()=>[L("Lähetä")]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const bl=$e(vl,[["render",kl],["__scopeId","data-v-838b813e"]]);const wl=da("v-alert-title"),Vl=["success","info","warning","error"],Sl=Z({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:va,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Vl.includes(e)},...ye(),...ma(),...fa(),...We(),...Lt(),...Bt(),...Ee(),...xe(),...Ce(),...Dt({variant:"flat"})},"VAlert"),xl=ne()({name:"VAlert",props:Sl(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{emit:a,slots:n}=l;const o=qe(e,"modelValue"),s=y(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),r=y(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:v}=Te(e),{colorClasses:f,colorStyles:u,variantClasses:d}=At(r),{densityClasses:S}=ga(e),{dimensionStyles:h}=ya(e),{elevationClasses:_}=Xe(e),{locationStyles:M}=Ht(e),{positionClasses:D}=Pt(e),{roundedClasses:P}=Re(e),{textColorClasses:$,textColorStyles:V}=ha(ce(e,"borderColor")),{t:c}=pa(),m=y(()=>({"aria-label":c(e.closeLabel),onClick(k){o.value=!1,a("click:close",k)}}));return()=>{const k=!!(n.prepend||s.value),g=!!(n.title||e.title),w=!!(n.close||e.closable);return o.value&&t(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},v.value,f.value,S.value,_.value,D.value,P.value,d.value,e.class],style:[u.value,h.value,M.value,e.style],role:"alert"},{default:()=>{var b,H;return[Et(!1,"v-alert"),e.border&&t("div",{key:"border",class:["v-alert__border",$.value],style:V.value},null),k&&t("div",{key:"prepend",class:"v-alert__prepend"},[n.prepend?t(Ve,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:e.density,icon:s.value,size:e.prominent?44:28}}},n.prepend):t(ge,{key:"prepend-icon",density:e.density,icon:s.value,size:e.prominent?44:28},null)]),t("div",{class:"v-alert__content"},[g&&t(wl,{key:"title"},{default:()=>{var B;return[((B=n.title)==null?void 0:B.call(n))??e.title]}}),((b=n.text)==null?void 0:b.call(n))??e.text,(H=n.default)==null?void 0:H.call(n)]),n.append&&t("div",{key:"append",class:"v-alert__append"},[n.append()]),w&&t("div",{key:"close",class:"v-alert__close"},[n.close?t(Ve,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var B;return[(B=n.close)==null?void 0:B.call(n,{props:m.value})]}}):t(R,le({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},m.value),null)])]}})}}}),zt=e=>(Ze("data-v-e50d2ddd"),e=e(),Je(),e),Cl={class:"new-account-text mt-5"},Tl=zt(()=>x("a",{class:"link"}," Käyttöehdot ",-1)),$l=zt(()=>x("a",{class:"link"}," Yksityisyydensuojan ",-1)),Il={__name:"Login",setup(e){const l=ct(),a=he(),n=A(null),o=A(null),s=A(!0);function r(){let f={email:n.value,password:o.value};a.loading=!0,a.loadingBackground=!0,a.login(f).then(u=>{u.status!="error"&&u.token?(a.loginDialogShowing=!1,a.auth_token=u.token,setTimeout(()=>{a.getUser().then(()=>{a.loading=!1,a.loadingBackground=!1,a.snackbarText="Kirjauduit sisään",a.snackbarColor="green-darken-2",a.snackbar=!0,a.updateMainComponent++,a.redirect&&(l.replace({path:"/"+a.redirect.url}),a.tab=a.redirect.tab),a.userInit()})},10)):(a.loading=!1,a.loadingBackground=!1,s.value=!1)}).catch(()=>{a.loading=!1,a.loadingBackground=!1,a.errorToast("Kirjautuminen epäonnistui")})}function v(){a.registerDialogShowing=!0}return(f,u)=>(I(),O(re,{modelValue:j(a).loginDialogShowing,"onUpdate:modelValue":u[5]||(u[5]=d=>j(a).loginDialogShowing=d),"max-width":"500",persistent:""},{default:i(()=>[t(te,null,{default:i(()=>[t(Se,{class:"headline pa-4"},{default:i(()=>[L(" Kirjaudu sisään ")]),_:1}),t(Ae),t(ue,{class:"pa-4"},{default:i(()=>[s.value?fe("",!0):(I(),O(xl,{key:0,type:"error",prominent:"",dense:"",onClick:u[0]||(u[0]=d=>s.value=!0)},{default:i(()=>[t(ve,{align:"center"},{default:i(()=>[t(He,{class:"flex-grow-1"},{default:i(()=>[L(" Kirjautuminen epäonnistui: Väärä sähköposti tai salasana ")]),_:1})]),_:1})]),_:1})),t(Nt,{onSubmit:dt(r,["prevent"])},{default:i(()=>[t(me,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=d=>n.value=d),label:"Sähköposti",outlined:"",type:"email",name:"email",error:!s.value,class:"my-2"},null,8,["modelValue","error"]),t(me,{modelValue:o.value,"onUpdate:modelValue":u[2]||(u[2]=d=>o.value=d),label:"Salasana",outlined:"",type:"password",name:"password",error:!s.value,class:"my-2"},null,8,["modelValue","error"]),t(He,{class:"pa-0"},{default:i(()=>[t(R,{type:"submit",color:"primary",elevation:"2",class:"submit-btn"},{default:i(()=>[L("Kirjaudu sisään")]),_:1})]),_:1})]),_:1},8,["onSubmit"]),x("div",Cl,[L(" Uusi käyttäjä? "),x("a",{class:"create-account-btn",onClick:u[3]||(u[3]=d=>v())},"Luo käyttäjä")])]),_:1}),t(ue,{class:"terms pa-4"},{default:i(()=>[L(" Kirjautumalla sisään hyväksyt "),Tl,L(" ja "),$l]),_:1}),t(R,{icon:"",onClick:u[4]||(u[4]=d=>j(a).loginDialogShowing=!1),class:"dialog-close-btn",flat:""},{default:i(()=>[t(ge,null,{default:i(()=>[L("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Ml=$e(Il,[["__scopeId","data-v-e50d2ddd"]]);const jl={__name:"Register",setup(e){const l=he(),a=A(null),n=A(null),o=A(null),s=A(null);function r(){let v={first_name:a.value,last_name:n.value,email:o.value,password:s.value};l.loading=!0,l.register(v).then(f=>{f.status!="error"&&f.token?(l.registerDialogShowing=!1,l.auth_token=f.token,l.getUser().then(()=>{l.loading=!1})):l.loading=!1}).catch(()=>{l.loading=!1,l.errorToast("Käyttäjän luominen epäonnistui")})}return(v,f)=>(I(),O(re,{modelValue:j(l).registerDialogShowing,"onUpdate:modelValue":f[5]||(f[5]=u=>j(l).registerDialogShowing=u),"max-width":"500"},{default:i(()=>[t(te,{"min-width":"300"},{default:i(()=>[t(Se,{class:"headline pa-4"},{default:i(()=>[L("Luo käyttäjä")]),_:1}),t(ue,null,{default:i(()=>[t(Nt,{onSubmit:dt(r,["prevent"])},{default:i(()=>[t(me,{modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=u=>a.value=u),label:"Etunimi",type:"text",name:"fname"},null,8,["modelValue"]),t(me,{modelValue:n.value,"onUpdate:modelValue":f[1]||(f[1]=u=>n.value=u),label:"Sukunimi",type:"text",name:"lname"},null,8,["modelValue"]),t(me,{modelValue:o.value,"onUpdate:modelValue":f[2]||(f[2]=u=>o.value=u),label:"Sähköposti",type:"email"},null,8,["modelValue"]),t(me,{modelValue:s.value,"onUpdate:modelValue":f[3]||(f[3]=u=>s.value=u),label:"Salasana",type:"password"},null,8,["modelValue"]),t(He,{class:"text-right"},{default:i(()=>[t(R,{type:"submit",color:"primary",class:"text-none"},{default:i(()=>[L("Luo käyttäjä")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),t(R,{icon:"",onClick:f[4]||(f[4]=u=>j(l).registerDialogShowing=!1),class:"dialog-close-btn",flat:""},{default:i(()=>[t(ge,null,{default:i(()=>[L("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Ll=$e(jl,[["__scopeId","data-v-a4465ca4"]]);const Bl={class:"loading-overlay"},Dl={__name:"Loader",setup(e){const l=he();return(a,n)=>(I(),O(re,{modelValue:j(l).loading,"onUpdate:modelValue":n[0]||(n[0]=o=>j(l).loading=o),class:ot({"dark-background":j(l).loadingBackground}),persistent:""},{default:i(()=>[x("div",Bl,[x("span",{class:"loader",style:Rt(j(l).loadingBackground?"border-color: #fff":"")},null,4)])]),_:1},8,["modelValue","class"]))}},Al=$e(Dl,[["__scopeId","data-v-5d1e1643"]]);const Ge=e=>(Ze("data-v-c3adfcce"),e=e(),Je(),e),Hl={class:"chat"},Pl={class:"contact bar"},El={class:"name"},Rl=["onClick"],Yl={key:0},Nl={key:1},Ul={key:0,class:"status"},Ol={key:1,class:"date"},zl={key:0,class:"message received"},Fl=Ge(()=>x("div",{class:"typing typing-1"},null,-1)),Kl=Ge(()=>x("div",{class:"typing typing-2"},null,-1)),Wl=Ge(()=>x("div",{class:"typing typing-3"},null,-1)),Xl=[Fl,Kl,Wl],ql={class:"job-container"},Zl={class:"job-content"},Jl={class:"job-main"},Gl={class:"job-title"},Ql={class:"job-info"},en={class:"job-info-item"},tn={key:0,class:"deleted-job"},an=Ge(()=>x("canvas",{id:"imageAttachmentCanvas",style:{display:"none"}},null,-1)),ln={__name:"Chat",setup(e){const l=ct(),a=he(),n=y(()=>a.chatOpen);A(!1);const o=A(null),s=y(()=>a.currentChatMessages),r=A(null),v=A(""),f=A(!1),u=A(null),d=A(null),S=A(null),h=A(null),_=A(null),M=A(!1),D=A(null),P=A(!1),$=A(null),V=A(!0),c=y(()=>a.chat.jobId),m=y(()=>a.chat.userId);function k(){if(v.value.trim()===""||v.value.trim().length===0)return;let T={job_id:c.value,message:v.value,receiver_id:m.value};a.sendMessage(T).then(()=>{}).catch(()=>{}),v.value=""}q(n,async(T,p)=>{T?a.user?g():(a.chatOpen=!1,a.loginDialogShowing=!0):(a.chatOpen=!1,a.chat.jobId=null,a.chat.userId=null)}),q(s,async(T,p)=>{T.length!=p.length&&w()},{deep:!0});function g(){V.value=!0,a.getMessages(c.value,m.value).then(T=>{o.value=T.user.name,d.value=T.user,r.value=T.job,V.value=!1,w()})}function w(){setTimeout(()=>{u.value&&u.value.scroll({top:u.value.scrollHeight})},10)}function b(T){return ee(T).format("HH:mm")}function H(){r.value&&!r.value.is_deleted&&(l.push("/jobs/"+r.value.hashed_id),a.chatOpen=!1,a.tab="job")}function B(T){return T.seen?"Nähty":"Toimitettu"}function W(){a.chatOpen=!1}function J(){D.value.click()}function oe(T){const p=T.target.files[0];if(h.value=p.name,p)if(p.type.startsWith("image/")&&!p.type.startsWith("image/gif")||p.type==="application/pdf"){if(S.value=null,_.value=null,a.loading=!0,M.value=!0,p.type.startsWith("image/")){var C=new FileReader;C.onload=function(Y){const z=new Image;z.onload=()=>{let se=1080,de=1080;const F=document.getElementById("imageAttachmentCanvas"),Me=F.getContext("2d"),Qe=z.width/z.height,Ft=se/de;let je,Le,et,tt;Qe>Ft?(Le=de,je=Le*Qe,tt=0,et=(je-se)/2):(je=se,Le=je/Qe,et=0,tt=(Le-de)/2),F.width=se,F.height=de,Me.drawImage(z,-et,-tt,je,Le),F.toBlob(gt=>{S.value=gt,console.log(gt),a.loading=!1},p.type,.8)},z.src=Y.target.result},C.readAsDataURL(p)}else if(p.type==="application/pdf"){let Y=new FileReader;Y.onload=function(z){S.value=new Blob([Y.result],{type:"application/pdf"}),a.loading=!1},Y.readAsArrayBuffer(p)}}else a.snackbarText="Valitse kuva tiedostotyyppi",a.snackbarColor="red-darken-2",a.snackbar=!0}function Q(){let p={attachment:new File([S.value],h.value,{type:S.value.type}),job_id:c.value,receiver_id:m.value};a.sendAttachment(p).then(()=>{M.value=!1})}function Ie(){const T=URL.createObjectURL(S.value);window.open(T,"_blank")}function pe(T){return T.message.length>0?T.message:T.attachment_name}function _e(T){$.value="",T.attachment_id&&T.attachment_url&&T.attachment_url.length>0&&(a.getFileExtension(T.attachment_name)==="pdf"?window.open(T.attachment_url,"_blank"):(P.value=!0,$.value=T.attachment_url))}function ke(T,p){return T.job_images&&T.job_images.length>0?a.url+"/job-image/"+T.job_images[0].name:a.url+"/no-img.png"}return(T,p)=>(I(),E(K,null,[t(re,{modelValue:j(a).chatOpen,"onUpdate:modelValue":p[6]||(p[6]=C=>j(a).chatOpen=C),"max-width":"700",persistent:""},{default:i(()=>[t(te,{"min-width":"300"},{default:i(()=>[x("div",Hl,[x("div",Pl,[V.value?(I(),E(K,{key:0},[t(Ne,{class:"profile-image",type:"image"}),t(Ne,{type:"list-item-two-line"})],64)):(I(),E(K,{key:1},[t(we,{src:d.value&&d.value.has_profile_image?`${j(a).url}/profile-image/${d.value.id}`:`${j(a).url}/no-profile-img.png`,cover:"",class:"profile-image"},{placeholder:i(()=>[t(ve,{class:"fill-height ma-0",align:"center",justify:"center"},{default:i(()=>[t(De,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src"]),x("div",null,[x("div",El,N(o.value),1)])],64))]),x("div",{class:"messages",id:"messages",ref_key:"chatContainer",ref:u},[(I(!0),E(K,null,lt(s.value,(C,Y)=>(I(),E("div",{key:Y},[C.is_date_seperator?(I(),E("div",Ol,N(C.time),1)):(I(),E("div",{key:0,class:ot(["message",{sent:C.received===0,received:C.received!==0,"pa-0":C.attachment_name&&j(a).getFileExtension(C.attachment_name)!=="pdf"}])},[x("div",{class:"time",style:Rt(C.received===0?"right: 10px":"left: 10px")},N(b(C.time)),5),x("div",{class:ot({attachment:C.attachment_id,loaded:C.attachment_url&&C.attachment_url.length>0}),onClick:z=>_e(C)},[C.attachment_name?(I(),E("div",Yl,[j(a).getFileExtension(C.attachment_name)==="pdf"?(I(),E(K,{key:0},[C.attachment_url&&C.attachment_url.length>0?(I(),O(ge,{key:0},{default:i(()=>[L(" mdi-file-pdf-box ")]),_:1})):(I(),O(De,{key:1,indeterminate:"",class:"pdf-loader",color:"grey-lighten-5"})),L(" "+N(pe(C)),1)],64)):(I(),O(we,{key:1,src:C.attachment_url,class:"attachment-image"},{placeholder:i(()=>[t(ve,{class:"fill-height ma-0 cursor-default",align:"center",justify:"center"},{default:i(()=>[t(De,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:2},1032,["src"]))])):(I(),E("div",Nl,N(pe(C)),1))],10,Rl),Y==s.value.length-1&&!C.received?(I(),E("div",Ul,N(B(C)),1)):fe("",!0)],2))]))),128)),f.value?(I(),E("div",zl,Xl)):fe("",!0),t($a,null,{default:i(({isHovering:C,props:Y})=>[t(te,le({class:"job-container",elevation:C&&!r.value.is_deleted?8:6,color:"grey-lighten-3"},Y,{onClick:p[0]||(p[0]=z=>H()),disabled:!r.value||r.value.is_deleted||V.value}),{default:i(()=>[t(yt,null,{default:i(()=>[x("div",ql,[V.value?(I(),E(K,{key:0},[t(Ne,{type:"image",class:"job-image"}),t(Ne,{class:"job-content",type:"list-item-two-line"})],64)):(I(),E(K,{key:1},[t(we,{src:ke(r.value),cover:"",class:"job-image"},{placeholder:i(()=>[t(ve,{class:"fill-height ma-0 cursor-default",align:"center",justify:"center"},{default:i(()=>[t(De,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src"]),x("div",Zl,[x("div",Jl,[x("div",Gl,N(r.value.title),1),x("div",null,N(j(a).jobShortInfo(r.value)),1)]),x("div",Ql,[x("div",en,"Julkaistu "+N(j(a).formatDate(r.value.created_at)),1)])])],64))])]),_:1}),r.value&&r.value.is_deleted?(I(),E("div",tn)):fe("",!0)]),_:2},1040,["elevation","disabled"])]),_:1})],512),t(te,{class:"chat-container",elevation:"3"},{default:i(()=>[t(ue,null,{default:i(()=>[t(ve,{align:"center"},{default:i(()=>[t(me,{modelValue:v.value,"onUpdate:modelValue":p[1]||(p[1]=C=>v.value=C),outlined:"",placeholder:"Viesti",solo:"","hide-details":"",variant:"solo",onKeyup:_a(k,["enter"]),class:"message-input ml-2 mr-2 mb-2 mt-2",elevation:"12","bg-color":"grey-lighten-2",disabled:!r.value||r.value.is_deleted},null,8,["modelValue","onKeyup","disabled"]),v.value.length==0?(I(),O(R,{key:0,onClick:J,color:"primary",dark:"",fab:"",small:"",class:"send-btn mr-1",disabled:!r.value||r.value.is_deleted},{default:i(()=>[t(ge,{size:"24px"},{default:i(()=>[L("mdi-paperclip")]),_:1})]),_:1},8,["disabled"])):(I(),O(R,{key:1,onClick:k,color:"primary",dark:"",fab:"",small:"",class:"send-btn mr-1",disabled:!r.value||r.value.is_deleted},{default:i(()=>[t(ge,null,{default:i(()=>[L("mdi-send")]),_:1})]),_:1},8,["disabled"]))]),_:1})]),_:1})]),_:1})]),t(R,{class:"close-btn",flat:"",icon:"mdi-close",onClick:p[2]||(p[2]=C=>W())})]),_:1}),x("input",{type:"file",ref_key:"fileInput",ref:D,onChange:oe,style:{display:"none"}},null,544),t(re,{modelValue:M.value,"onUpdate:modelValue":p[5]||(p[5]=C=>M.value=C),width:"500"},{default:i(()=>[t(te,null,{default:i(()=>[t(Se,null,{default:i(()=>[L(" Vahvista liite ")]),_:1}),t(yt,null,{default:i(()=>[x("div",{onClick:Ie,class:"attachmentName"},N(h.value),1)]),_:1}),t(nt,null,{default:i(()=>[t(He,{class:"d-flex justify-space-between"},{default:i(()=>[t(R,{onClick:p[3]||(p[3]=C=>M.value=!1),class:"text-none"},{default:i(()=>[L("Peruuta")]),_:1}),t(R,{color:"primary",onClick:p[4]||(p[4]=C=>Q()),class:"text-none"},{default:i(()=>[L("Lähetä")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),an,t(re,{modelValue:P.value,"onUpdate:modelValue":p[8]||(p[8]=C=>P.value=C),id:"chat-large-image",fullscreen:"",width:"100vw"},{default:i(()=>[t(te,{style:{"background-color":"#333"}},{default:i(()=>[t(we,{src:$.value,class:"large-image"},{placeholder:i(()=>[t(ve,{class:"fill-height ma-0",align:"center",justify:"center"},{default:i(()=>[t(De,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src"]),t(R,{class:"close-btn",flat:"",icon:"mdi-close",onClick:p[7]||(p[7]=C=>P.value=!1)})]),_:1})]),_:1},8,["modelValue"])],64))}},nn=$e(ln,[["__scopeId","data-v-c3adfcce"]]);//! moment.js locale configuration
//! locale : Finnish [fi]
//! author : Tarmo Aidantausta : https://github.com/bleadof
var Oe="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),on=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",Oe[7],Oe[8],Oe[9]];function G(e,l,a,n){var o="";switch(a){case"s":return n?"muutaman sekunnin":"muutama sekunti";case"ss":o=n?"sekunnin":"sekuntia";break;case"m":return n?"minuutin":"minuutti";case"mm":o=n?"minuutin":"minuuttia";break;case"h":return n?"tunnin":"tunti";case"hh":o=n?"tunnin":"tuntia";break;case"d":return n?"päivän":"päivä";case"dd":o=n?"päivän":"päivää";break;case"M":return n?"kuukauden":"kuukausi";case"MM":o=n?"kuukauden":"kuukautta";break;case"y":return n?"vuoden":"vuosi";case"yy":o=n?"vuoden":"vuotta";break}return o=sn(e,n)+" "+o,o}function sn(e,l){return e<10?l?on[e]:Oe[e]:e}ee.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:G,ss:G,m:G,mm:G,h:G,hh:G,d:G,dd:G,M:G,MM:G,y:G,yy:G},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});const un=Z({...ye(),...Ia({fullHeight:!0}),...Ce()},"VApp"),rn=ne()({name:"VApp",props:un(),setup(e,l){let{slots:a}=l;const n=Te(e),{layoutClasses:o,getLayoutItem:s,items:r,layoutRef:v}=La(e),{rtlClasses:f}=rt();return ie(()=>{var u;return t("div",{ref:v,class:["v-application",n.themeClasses.value,o.value,f.value,e.class],style:[e.style]},[t("div",{class:"v-application__wrap"},[(u=a.default)==null?void 0:u.call(a)])])}),{getLayoutItem:s,items:r,theme:n}}});function cn(e){const l=U(e);let a=-1;function n(){clearInterval(a)}function o(){n(),jt(()=>l.value=e)}function s(r){const v=r?getComputedStyle(r):{transitionDuration:.2},f=parseFloat(v.transitionDuration)*1e3||200;if(n(),l.value<=0)return;const u=performance.now();a=window.setInterval(()=>{const d=performance.now()-u+f;l.value=Math.max(e-d,0),l.value<=0&&n()},f)}return Sa(n),{clear:n,time:l,start:s,reset:o}}const dn=Z({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Lt({location:"bottom"}),...Bt(),...Ee(),...Dt(),...Ce(),...ka(xa({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),vn=ne()({name:"VSnackbar",props:dn(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const n=qe(e,"modelValue"),{locationStyles:o}=Ht(e),{positionClasses:s}=Pt(e),{scopeId:r}=Yt(),{themeClasses:v}=Te(e),{colorClasses:f,colorStyles:u,variantClasses:d}=At(e),{roundedClasses:S}=Re(e),h=cn(Number(e.timeout)),_=A(),M=A(),D=U(!1);q(n,$),q(()=>e.timeout,$),Pe(()=>{n.value&&$()});let P=-1;function $(){h.reset(),window.clearTimeout(P);const k=Number(e.timeout);if(!n.value||k===-1)return;const g=ba(M.value);h.start(g),P=window.setTimeout(()=>{n.value=!1},k)}function V(){h.reset(),window.clearTimeout(P)}function c(){D.value=!0,V()}function m(){D.value=!1,$()}return ie(()=>{const k=kt.filterProps(e),g=!!(a.default||a.text||e.text);return t(kt,le({ref:_,class:["v-snackbar",{"v-snackbar--active":n.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},s.value,e.class],style:e.style},k,{modelValue:n.value,"onUpdate:modelValue":w=>n.value=w,contentProps:le({class:["v-snackbar__wrapper",v.value,f.value,S.value,d.value],style:[o.value,u.value],onPointerenter:c,onPointerleave:m},k.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},r),{default:()=>{var w,b;return[Et(!1,"v-snackbar"),e.timer&&t("div",{key:"timer",class:"v-snackbar__timer"},[t(wa,{ref:M,active:!D.value,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":h.time.value},null)]),g&&t("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((w=a.text)==null?void 0:w.call(a))??e.text,(b=a.default)==null?void 0:b.call(a)]),a.actions&&t(Ve,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[t("div",{class:"v-snackbar__actions"},[a.actions()])]})]},activator:a.activator})}),Va({},_)}}),kn={__name:"Default",setup(e){ee.locale("fi");const l=he();return(a,n)=>(I(),O(rn,null,{default:i(()=>[t(sl),(I(),O(bl,{key:j(l).updateMainComponent})),t(Ml),t(Al),t(Ll),t(nn),t(vn,{modelValue:j(l).snackbar,"onUpdate:modelValue":n[1]||(n[1]=o=>j(l).snackbar=o),elevation:"24",color:j(l).snackbarColor,timeout:5e3},{actions:i(()=>[t(R,{variant:"text",onClick:n[0]||(n[0]=o=>j(l).snackbar=!1)},{default:i(()=>[L(" Sulje ")]),_:1})]),default:i(()=>[L(N(j(l).snackbarText)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}};export{kn as default};
