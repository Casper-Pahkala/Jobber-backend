import{a8 as B,aa as S,ab as z,a9 as I,ac as N,ad as a,ah as P,af as c,ak as s,t as l,ag as e,ao as R,N as j,V as H,a7 as T,am as d,b6 as k,aO as w,ae as r,Z as p,aq as V,ai as m,b7 as C,al as f,Q as $}from"./index-0ea08868.js";import{a as q}from"./VDivider-1fa0efd1.js";import{c as A,V as E,b as F}from"./VForm-a10f2873.js";import{a as O}from"./VHover-9132a4a8.js";const Q={style:{position:"relative"},class:"job-wrapper"},U={class:"job-content"},Z={class:"job-main"},G={class:"job-title"},K={class:"job-description"},W={class:"job-info small"},X={class:"job-info-item"},Y={class:"job-info-item"},ee={key:0,class:"area-chip"},te={key:0,style:{"line-height":"25px","letter-spacing":"2px"}},se={class:"job-info"},ae={class:"job-info-item"},oe={class:"job-info-item mt-2"},ie={key:0,class:"area-chip"},ne={key:0,style:{"line-height":"25px","letter-spacing":"2px"}},re={key:0,class:"deleted"},le={key:0,class:"action-btns"},ce={__name:"JobCard",props:["job","myListing"],setup(x){const b=x;window.scrollTo(0,0);const D=S();z();const o=I(),t=b.job,h=b.myListing;function L(i){D.push("/jobs/"+i.hashed_id)}function v(i,n){return i.job_images&&i.job_images.length>0?o.url+"/job-image/"+i.job_images[0].name+".jpg":o.url+"/no-img.png"}function J(i){if(window.confirm("Haluatko varmasti poistaa listauksen "+i.title+"?")){const g={job_id:i.hashed_id};o.deleteListing(g).then(y=>{i.is_deleted=!0})}}return(i,n)=>{const g=N("router-link");return a(),P(O,null,{default:c(({isHovering:y,props:M})=>[s("div",Q,[l(g,{to:"/jobs/"+e(t).hashed_id},{default:c(()=>[l(R,j({onClick:n[0]||(n[0]=_=>L(e(t))),class:"job",elevation:y?6:3},M),{default:c(()=>[l(H,{src:v(e(t)),"lazy-src":v(e(t),!0),cover:"",class:"job-image"},{placeholder:c(()=>[l(q,{class:"fill-height ma-0",align:"center",justify:"center"},{default:c(()=>[l(T,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src","lazy-src"]),s("div",U,[s("div",Z,[s("div",G,d(e(t).title),1),s("div",K,d(e(o).jobShortInfo(e(t))),1),k(s("div",W,[s("div",X,"Julkaistu "+d(e(o).formatDate(e(t).created_at,"DD.MM")),1),s("div",Y,[s("div",{class:"area-container",style:w(e(h)?"margin-right: 50px;":"")},[(a(!0),r(p,null,V(e(t).area,(_,u)=>(a(),r(p,{key:u},[u<1?(a(),r("div",ee,d(_),1)):m("",!0)],64))),128)),e(t).area.length>2?(a(),r("div",te," +"+d(e(t).area.length-2),1)):m("",!0)],4)])],512),[[C,e(o).window.width<1199]])]),k(s("div",se,[s("div",ae,"Julkaistu "+d(e(o).formatDate(e(t).created_at,"DD.MM")),1),s("div",oe,[s("div",{class:"area-container",style:w(e(h)?"margin-right: 50px;":"")},[(a(!0),r(p,null,V(e(t).area,(_,u)=>(a(),r(p,{key:u},[u<2?(a(),r("div",ie,d(_),1)):m("",!0)],64))),128)),e(t).area.length>2?(a(),r("div",ne," +"+d(e(t).area.length-2),1)):m("",!0)],4)])],512),[[C,e(o).window.width>=1199]])]),e(h)&&e(t).is_deleted?(a(),r("div",re)):m("",!0)]),_:2},1040,["elevation"])]),_:2},1032,["to"]),e(h)?(a(),r("div",le,[l(A,{onClick:n[3]||(n[3]=f(()=>{},["stop"])),theme:e(o).theme},{activator:c(({props:_})=>[l($,j({onClick:n[1]||(n[1]=f(()=>{},["stop"]))},_,{icon:"mdi-dots-vertical",class:"more-btn",color:e(o).lightTheme?"grey-lighten-3":"grey-darken-3"}),null,16,["color"])]),default:c(()=>[l(E,null,{default:c(()=>[l(F,{onClick:n[2]||(n[2]=f(_=>J(e(t)),["stop"])),class:"menu-action-btn",title:"Poista listaus"})]),_:1})]),_:2},1032,["theme"])])):m("",!0)])]),_:1})}}},he=B(ce,[["__scopeId","data-v-6a5b4c6f"]]);export{he as J};
