import{ad as z,ac as N,ab as D,r as p,c as R,ae as m,af as v,aA as o,t as e,ag as s,aj as S,P as g,a6 as c,az as j,X as U,aC as x,ai as A,aD as F,aB as i,al as l,ah as O}from"./index-b7c83ecf.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import{V as _}from"./VContainer-af324091.js";import{V as y}from"./VImg-617ae8eb.js";import{V,a as f}from"./VDivider-0434f6d6.js";const T={class:"main-wrapper"},$={class:"main-content"},E={class:"carousel"},L={id:"job-title"},M={id:"job-description"},X={class:"job-info"},q={class:"job-info"},G={class:"job-info"},H={class:"job-info"},K={key:0},Q={class:"job-info"},W={__name:"Job",setup(Y){const k=z(),C=N(),t=D(),a=p({}),b=p(""),I=R(()=>a.value.user&&t.user&&a.value.user.hashed_id===t.user.id),h=p(0);t.currentJobId=k.params.id,t.fetchJob(t.currentJobId).then(n=>{let r=n.data;r.error||(a.value=r.job,b.value=r.job.user.first_name+" "+r.job.user.last_name,t.currentChatUserId=r.job.user.hashed_id)});function B(){C.replace({path:"/jobs"})}window.scrollTo(0,0);function J(){t.chatOpen=!0}function u(n=0){return a.value.pictures&&a.value.pictures>0?t.url+"/job-image/"+a.value.hashed_id+"/"+n:t.url+"/no-img.png"}return(n,r)=>(m(),v("div",T,[o("div",$,[e(_,null,{default:s(()=>[e(g,{flat:"",rounded:"",id:"back-btn",onClick:B},{default:s(()=>[e(c,{icon:"mdi-arrow-left"})]),_:1}),e(_,{id:"images-container"},{default:s(()=>[e(_,{class:"main-image-container"},{default:s(()=>[e(y,{src:u(h.value),"lazy-src":u(h.value),contain:"",class:"job-image"},{placeholder:s(()=>[e(V,{class:"fill-height ma-0",align:"center",justify:"center"},{default:s(()=>[e(j,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src","lazy-src"])]),_:1}),o("div",E,[(m(!0),v(U,null,x(a.value.pictures,(w,d)=>(m(),A(y,{key:d,src:u(d),"lazy-src":u(d),contain:"",class:F(["carousel-img",n.image===n.mainImage?"selected":""]),onClick:Z=>h.value=d},{placeholder:s(()=>[e(V,{class:"fill-height ma-0",align:"center",justify:"center"},{default:s(()=>[e(j,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:2},1032,["src","lazy-src","onClick","class"]))),128))])]),_:1}),o("h1",L,i(a.value.title),1),e(f),o("p",M,i(a.value.description),1),e(f),o("div",X,[e(c,{icon:"mdi-map-marker"}),l(" "+i(a.value.location||"Seinäjoki"),1)]),o("div",q,[e(c,{icon:"mdi-calendar-range"}),l(" "+i(O(t).formatDate(a.value.date)),1)]),o("div",G,[e(c,{icon:"mdi-timer-outline"}),l(" "+i(a.value.estimated_time)+"h ",1)]),o("div",H,[e(c,{icon:"mdi-cash"}),l(" "+i(a.value.full_salary)+"€ ",1)])]),_:1}),e(f,{class:"mt-5 mb-5"}),I.value?S("",!0):(m(),v("div",K,[e(_,null,{default:s(()=>[o("div",Q,[e(c,{icon:"mdi-account"}),l(" "+i(b.value),1)]),e(g,{class:"mt-4",color:"primary",onClick:r[0]||(r[0]=w=>J())},{default:s(()=>[l(" Ota yhteyttä ")]),_:1})]),_:1}),e(f,{class:"mt-5 mb-5"})]))])]))}},re=P(W,[["__scopeId","data-v-ff0da7e7"]]);export{re as default};
