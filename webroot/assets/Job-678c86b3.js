import{ad as B,ac as N,ab as D,r as m,c as F,ae as _,af as g,az as r,t as e,ag as o,aj as R,P as j,a6 as l,aE as y,X as U,aG as $,ai as x,aD as E,aF as i,ak as c,ah as O}from"./index-624479a9.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import{V as f}from"./VContainer-40989895.js";import{V as k,a as V}from"./VImg-ac374819.js";import{V as p}from"./VDivider-bf36d72e.js";const S={class:"main-wrapper"},T={class:"main-content"},A={class:"carousel"},G={id:"job-title"},L={id:"job-description"},M={class:"job-info"},X={class:"job-info"},q={class:"job-info"},H={class:"job-info"},K={key:0},Q={class:"job-info"},W={__name:"Job",setup(Y){const C=B(),I=N(),t=D(),a=m({});t.loading=!0,m(null);const h=m(""),J=F(()=>a.value.user&&t.user&&a.value.user.hashed_id===t.user.id),v=m(0);t.currentJobId=C.params.id,t.fetchJob(t.currentJobId).then(n=>{let s=n.data;s.error||(a.value=s.job,h.value=s.job.user.first_name+" "+s.job.user.last_name,t.currentChatUserId=s.job.user.hashed_id),t.loading=!1});function w(){I.replace({path:"/jobs"})}window.scrollTo(0,0);function z(){t.chatOpen=!0}function u(n=0,s=!1){return a.value.pictures&&a.value.pictures>0?t.url+"/job-image/"+a.value.hashed_id+"/image_"+n+(s?"_low":""):t.url+"/no-img.png"}function Z(){}return(n,s)=>(_(),g("div",S,[r("div",T,[e(f,null,{default:o(()=>[e(j,{flat:"",rounded:"",id:"back-btn",onClick:w},{default:o(()=>[e(l,{icon:"mdi-arrow-left"})]),_:1}),e(f,{id:"images-container"},{default:o(()=>[e(f,{class:"main-image-container"},{default:o(()=>[e(k,{src:u(v.value),"lazy-src":u(v.value,!0),contain:"",class:"job-image",id:"mainJobImage",onClick:s[0]||(s[0]=b=>void 0)},{placeholder:o(()=>[e(V,{class:"fill-height ma-0",align:"center",justify:"center"},{default:o(()=>[e(y,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src","lazy-src"])]),_:1}),r("div",A,[(_(!0),g(U,null,$(a.value.pictures,(b,d)=>(_(),x(k,{key:d,src:u(d),"lazy-src":u(d,!0),contain:"",class:E(["carousel-img",n.image===n.mainImage?"selected":""]),onClick:ee=>v.value=d},{placeholder:o(()=>[e(V,{class:"fill-height ma-0",align:"center",justify:"center"},{default:o(()=>[e(y,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:2},1032,["src","lazy-src","onClick","class"]))),128))])]),_:1}),r("h1",G,i(a.value.title),1),e(p),r("p",L,i(a.value.description),1),e(p),r("div",M,[e(l,{icon:"mdi-map-marker"}),c(" "+i(a.value.address),1)]),r("div",X,[e(l,{icon:"mdi-calendar-range"}),c(" "+i(O(t).formatDate(a.value.date)),1)]),r("div",q,[e(l,{icon:"mdi-timer-outline"}),c(" "+i(a.value.estimated_time)+"h ",1)]),r("div",H,[e(l,{icon:"mdi-cash"}),c(" "+i(a.value.full_salary)+"€ ",1)])]),_:1}),e(p,{class:"mt-5 mb-5"}),J.value?R("",!0):(_(),g("div",K,[e(f,null,{default:o(()=>[r("div",Q,[e(l,{icon:"mdi-account"}),c(" "+i(h.value),1)]),e(j,{class:"mt-4",color:"primary",onClick:s[1]||(s[1]=b=>z())},{default:o(()=>[c(" Ota yhteyttä ")]),_:1})]),_:1}),e(p,{class:"mt-5 mb-5"})]))])]))}},ie=P(W,[["__scopeId","data-v-18f1a91a"]]);export{ie as default};
