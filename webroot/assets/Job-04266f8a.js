import{ad as z,ac as N,ab as D,r as p,c as R,ae as m,af as v,aA as r,t as e,ag as o,aj as S,P as g,a6 as c,az as j,X as U,aC as x,ai as A,aD as F,aB as i,al as l,ah as O}from"./index-54123a3f.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import{V as _}from"./VContainer-cf292a70.js";import{V as y}from"./VImg-cec322ab.js";import{V,a as f}from"./VDivider-e65662ef.js";const T={class:"main-wrapper"},$={class:"main-content"},E={class:"carousel"},L={id:"job-title"},M={id:"job-description"},X={class:"job-info"},q={class:"job-info"},G={class:"job-info"},H={class:"job-info"},K={key:0},Q={class:"job-info"},W={__name:"Job",setup(Y){const k=z(),C=N(),t=D(),a=p({}),b=p(""),I=R(()=>a.value.user&&t.user&&a.value.user.hashed_id===t.user.id),h=p(0);t.currentJobId=k.params.id,t.fetchJob(t.currentJobId).then(n=>{let s=n.data;s.error||(a.value=s.job,b.value=s.job.user.first_name+" "+s.job.user.last_name,t.currentChatUserId=s.job.user.hashed_id)});function w(){C.replace({path:"/jobs"})}window.scrollTo(0,0);function B(){t.chatOpen=!0}function u(n=0,s=!1){return a.value.pictures&&a.value.pictures>0?t.url+"/job-image/"+a.value.hashed_id+"/image_"+n+(s?"_low":""):t.url+"/no-img.png"}return(n,s)=>(m(),v("div",T,[r("div",$,[e(_,null,{default:o(()=>[e(g,{flat:"",rounded:"",id:"back-btn",onClick:w},{default:o(()=>[e(c,{icon:"mdi-arrow-left"})]),_:1}),e(_,{id:"images-container"},{default:o(()=>[e(_,{class:"main-image-container"},{default:o(()=>[e(y,{src:u(h.value),"lazy-src":u(h.value,!0),contain:"",class:"job-image"},{placeholder:o(()=>[e(V,{class:"fill-height ma-0",align:"center",justify:"center"},{default:o(()=>[e(j,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src","lazy-src"])]),_:1}),r("div",E,[(m(!0),v(U,null,x(a.value.pictures,(J,d)=>(m(),A(y,{key:d,src:u(d),"lazy-src":u(d,!0),contain:"",class:F(["carousel-img",n.image===n.mainImage?"selected":""]),onClick:Z=>h.value=d},{placeholder:o(()=>[e(V,{class:"fill-height ma-0",align:"center",justify:"center"},{default:o(()=>[e(j,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:2},1032,["src","lazy-src","onClick","class"]))),128))])]),_:1}),r("h1",L,i(a.value.title),1),e(f),r("p",M,i(a.value.description),1),e(f),r("div",X,[e(c,{icon:"mdi-map-marker"}),l(" "+i(a.value.location||"Seinäjoki"),1)]),r("div",q,[e(c,{icon:"mdi-calendar-range"}),l(" "+i(O(t).formatDate(a.value.date)),1)]),r("div",G,[e(c,{icon:"mdi-timer-outline"}),l(" "+i(a.value.estimated_time)+"h ",1)]),r("div",H,[e(c,{icon:"mdi-cash"}),l(" "+i(a.value.full_salary)+"€ ",1)])]),_:1}),e(f,{class:"mt-5 mb-5"}),I.value?S("",!0):(m(),v("div",K,[e(_,null,{default:o(()=>[r("div",Q,[e(c,{icon:"mdi-account"}),l(" "+i(b.value),1)]),e(g,{class:"mt-4",color:"primary",onClick:s[0]||(s[0]=J=>B())},{default:o(()=>[l(" Ota yhteyttä ")]),_:1})]),_:1}),e(f,{class:"mt-5 mb-5"})]))])]))}},re=P(W,[["__scopeId","data-v-26a21be7"]]);export{re as default};
