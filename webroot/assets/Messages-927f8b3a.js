import{_ as v}from"./mowing-06728092.js";import{ac as g,ab as b,r as V,ae as i,af as l,aA as s,t as n,ag as d,X as m,aC as I,ai as C,aB as r,a6 as S,al as k,aH as y,aI as H,aG as a}from"./index-b7c83ecf.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import{V as M}from"./VContainer-af324091.js";import{V as j}from"./VImg-617ae8eb.js";import{V as w}from"./VCard-a7affca7.js";const B=c=>(y("data-v-de02b552"),c=c(),H(),c),D=B(()=>s("h1",null,"Viestit",-1)),A={class:"main-wrapper"},N={class:"main-content"},E={class:"message-wrapper"},F={class:"message-info"},T={class:"name"},z={class:"job-title"},G={class:"latest-message"},J={class:"message"},L={__name:"Messages",setup(c){const p=g(),t=b(),_=V([]);t.user?t.getAllMessages().then(e=>{_.value=e.messages}):(p.replace({path:"/"}),t.tab="",t.loginDialogShowing=!0);function u(e){t.currentJobId=e.job.hashed_id,t.currentChatUserId=e.other_user_id,t.chatOpen=!0}function h(e){return a(e).isSame(a(),"day")?"Tänään "+a(e).format("HH:mm"):a(e).isSame(a().clone().subtract(1,"days"),"day")?"Eilen "+a(e).format("HH:mm"):a(e).format("DD.MM HH:mm")}return(e,O)=>(i(),l(m,null,[D,s("div",A,[s("div",N,[n(M,null,{default:d(()=>[(i(!0),l(m,null,I(_.value,(o,f)=>(i(),C(w,{key:f,onClick:R=>u(o),class:"message-container"},{default:d(()=>[s("div",E,[n(j,{class:"pic",src:v,"aspect-ratio":"1",cover:""}),s("div",F,[s("div",T,r(o.job.user.first_name)+" "+r(o.job.user.last_name),1),s("div",z,r(o.job.title),1),s("div",G,[s("div",J,r(o.message),1),n(S,{icon:"mdi-circle",size:"6"}),k(" "+r(h(o.time)),1)])])])]),_:2},1032,["onClick"]))),128))]),_:1})])])],64))}},Q=x(L,[["__scopeId","data-v-de02b552"]]);export{Q as default};
