import{ad as F,ac as $,ab as D,r as u,c as R,ae as c,af as m,al as i,X as V,t as e,ag as o,aj as x,P as j,a6 as d,aG as I,an as L,ai as O,aF as P,am as l,ak as r,ah as T,ap as U,aq as q}from"./index-3b31550a.js";import{_ as A,V as J,a as C}from"./_plugin-vue_export-helper-b6f1a44b.js";import{V as f}from"./VContainer-5ad096d1.js";import{V as v}from"./VDivider-5b77f61a.js";const E=_=>(U("data-v-7cbbb472"),_=_(),q(),_),G={class:"main-wrapper"},M={class:"main-content"},X={class:"carousel mt-2"},H={id:"job-title"},K={id:"job-description"},Q={class:"job-info"},W={class:"job-info"},Y={class:"job-info"},Z={class:"job-info"},ee={key:0},ae={class:"job-info"},se={key:1,class:"listing-deleted"},te=E(()=>i("div",null," Listaus poistettu ",-1)),oe={__name:"Job",setup(_){const w=F(),h=$(),a=D(),s=u({});a.loading=!0,u(null),u(null);const k=u(""),B=R(()=>s.value.user&&a.user&&s.value.user.hashed_id===a.user.id),g=u(0);a.displayedJob.id=w.params.id,a.fetchJob(a.displayedJob.id).then(n=>{let t=n.data;t.error||(s.value=t.job,k.value=t.job.user.first_name+" "+t.job.user.last_name,a.displayedJob.userId=t.job.user.hashed_id),a.loading=!1});function S(){window.history.length>1?h.back():h.replace({path:"/jobs"})}function z(){h.replace({path:"/jobs"})}window.scrollTo(0,0);function N(){a.chat.jobId=a.displayedJob.id,a.chat.userId=a.displayedJob.userId,a.chatOpen=!0}function p(n=0,t=!1){return s.value.pictures&&s.value.pictures>0?a.url+"/job-image/"+s.value.hashed_id+"/image_"+n+(t?"_low.jpg":".jpg"):a.url+"/no-img.png"}function ie(){}return(n,t)=>(c(),m("div",G,[i("div",M,[s.value.is_deleted?(c(),m("div",se,[te,e(j,{color:"primary",onClick:t[2]||(t[2]=y=>z())},{default:o(()=>[r(" Selaa töitä ")]),_:1})])):(c(),m(V,{key:0},[e(f,null,{default:o(()=>[e(j,{flat:"",rounded:"",id:"back-btn",onClick:S},{default:o(()=>[e(d,{icon:"mdi-arrow-left"})]),_:1}),e(f,{id:"images-container"},{default:o(()=>[e(f,{class:"main-image-container"},{default:o(()=>[e(J,{src:p(g.value),"lazy-src":p(g.value,!0),contain:"",class:"job-image",id:"mainJobImage",onClick:t[0]||(t[0]=y=>void 0)},{placeholder:o(()=>[e(C,{class:"fill-height ma-0",align:"center",justify:"center"},{default:o(()=>[e(I,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src","lazy-src"])]),_:1}),i("div",X,[(c(!0),m(V,null,L(s.value.pictures,(y,b)=>(c(),O(J,{key:b,src:p(b),"lazy-src":p(b,!0),cover:"",class:P(["carousel-img",n.image===n.mainImage?"selected":""]),onClick:le=>g.value=b,"aspect-ratio":"1"},{placeholder:o(()=>[e(C,{class:"fill-height ma-0",align:"center",justify:"center"},{default:o(()=>[e(I,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:2},1032,["src","lazy-src","onClick","class"]))),128))])]),_:1}),i("h1",H,l(s.value.title),1),e(v),i("p",K,l(s.value.description),1),e(v),i("div",Q,[e(d,{icon:"mdi-map-marker"}),r(" "+l(s.value.address),1)]),i("div",W,[e(d,{icon:"mdi-calendar-range"}),r(" "+l(T(a).formatDate(s.value.date)),1)]),i("div",Y,[e(d,{icon:"mdi-timer-outline"}),r(" "+l(s.value.estimated_time)+"h ",1)]),i("div",Z,[e(d,{icon:"mdi-cash"}),r(" "+l(s.value.full_salary)+"€ ",1)])]),_:1}),e(v,{class:"mt-5 mb-5"}),B.value?x("",!0):(c(),m("div",ee,[e(f,null,{default:o(()=>[i("div",ae,[e(d,{icon:"mdi-account"}),r(" "+l(k.value),1)]),e(j,{class:"mt-4",color:"primary",onClick:t[1]||(t[1]=y=>N())},{default:o(()=>[r(" Ota yhteyttä ")]),_:1})]),_:1}),e(v,{class:"mt-5 mb-5"})]))],64))])]))}},ue=A(oe,[["__scopeId","data-v-7cbbb472"]]);export{ue as default};
