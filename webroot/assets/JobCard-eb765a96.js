import{a8 as S,aa as B,ab as N,a9 as z,ac as I,ad as a,ah as T,af as l,ak as s,t as c,ag as e,ao as H,N as j,V as P,am as d,b8 as k,aO as w,ae as n,Z as p,aq as V,ai as m,b9 as C,al as g,Q as R,aj as $}from"./index-857362eb.js";import{V as q}from"./VSkeletonLoader-6ae1cf95.js";import{c as A,V as E,b as x}from"./VForm-b7fd9833.js";import{a as F}from"./VHover-26988e5b.js";const O={style:{position:"relative"},class:"job-wrapper"},Q={class:"job-content"},U={class:"job-main"},Z={class:"job-title"},G={class:"job-description"},K={class:"job-info small"},W={class:"job-info-item"},X={class:"job-info-item"},Y={key:0,class:"area-chip"},ee={key:0,style:{"line-height":"25px","letter-spacing":"2px"}},te={class:"job-info"},se={class:"job-info-item"},oe={class:"job-info-item mt-2"},ae={key:0,class:"area-chip"},ie={key:0,style:{"line-height":"25px","letter-spacing":"2px"}},ne={key:0,class:"deleted"},re={key:0,class:"action-btns"},le={__name:"JobCard",props:["job","myListing"],setup(L){const v=L;window.scrollTo(0,0),B(),N();const o=z(),t=v.job,h=v.myListing;function D(r){o.tab="job"}function f(r,i){return r.job_images&&r.job_images.length>0?o.url+"/job-image/"+r.job_images[0].name+".jpg":o.url+"/no-img.png"}function J(r){if(window.confirm("Haluatko varmasti poistaa listauksen "+r.title+"?")){const b={job_id:r.hashed_id};o.deleteListing(b).then(y=>{r.is_deleted=!0})}}return(r,i)=>{const b=I("router-link");return a(),T(F,null,{default:l(({isHovering:y,props:M})=>[s("div",O,[c(b,{to:"/jobs/"+e(t).hashed_id},{default:l(()=>[c(H,j({onClick:i[0]||(i[0]=_=>D(e(t))),class:"job",elevation:y?6:3},M),{default:l(()=>[c(P,{src:f(e(t)),"lazy-src":f(e(t),!0),cover:"",class:"job-image"},{placeholder:l(()=>[c(q,{type:"image",round:"",theme:e(o).theme},null,8,["theme"])]),_:1},8,["src","lazy-src"]),s("div",Q,[s("div",U,[s("div",Z,d(e(t).title),1),s("div",G,d(e(o).jobShortInfo(e(t))),1),k(s("div",K,[s("div",W,"Julkaistu "+d(e(o).formatDate(e(t).created_at,"DD.MM")),1),s("div",X,[s("div",{class:"area-container",style:w(e(h)?"margin-right: 50px;":"")},[(a(!0),n(p,null,V(e(t).area,(_,u)=>(a(),n(p,{key:u},[u<1?(a(),n("div",Y,d(_),1)):m("",!0)],64))),128)),e(t).area.length>2?(a(),n("div",ee," +"+d(e(t).area.length-2),1)):m("",!0)],4)])],512),[[C,e(o).window.width<1199]])]),k(s("div",te,[s("div",se,"Julkaistu "+d(e(o).formatDate(e(t).created_at,"DD.MM")),1),s("div",oe,[s("div",{class:"area-container",style:w(e(h)?"margin-right: 50px;":"")},[(a(!0),n(p,null,V(e(t).area,(_,u)=>(a(),n(p,{key:u},[u<2?(a(),n("div",ae,d(_),1)):m("",!0)],64))),128)),e(t).area.length>2?(a(),n("div",ie," +"+d(e(t).area.length-2),1)):m("",!0)],4)])],512),[[C,e(o).window.width>=1199]])]),e(h)&&e(t).is_deleted?(a(),n("div",ne)):m("",!0)]),_:2},1040,["elevation"])]),_:2},1032,["to"]),e(h)?(a(),n("div",re,[c(A,{onClick:i[3]||(i[3]=g(()=>{},["stop"])),theme:e(o).theme,location:"bottom end"},{activator:l(({props:_})=>[c(R,j({onClick:i[1]||(i[1]=g(()=>{},["stop"]))},_,{icon:"mdi-dots-vertical",class:"more-btn",color:e(o).lightTheme?"grey-lighten-3":"grey-darken-3"}),null,16,["color"])]),default:l(()=>[c(E,null,{default:l(()=>[c(x,{onClick:i[2]||(i[2]=g(_=>J(e(t)),["stop"])),class:"menu-action-btn text-red"},{default:l(()=>[c(x,null,{default:l(()=>[$(" Poista listaus ")]),_:1})]),_:1})]),_:1})]),_:2},1032,["theme"])])):m("",!0)])]),_:1})}}},ue=S(le,[["__scopeId","data-v-c2414a0e"]]);export{ue as J};
