import{_ as v}from"./mowing-06728092.js";import{ax as g,aw as b,r as V,az as c,aA as l,aP as s,t as i,aB as d,a9 as m,aR as I,aD as S,aQ as r,aa as k,aG as x,aW as y,aX as C,aV as t}from"./index-285710b9.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import{V as D}from"./VContainer-033de686.js";import{V as H}from"./VImg-dc7ef883.js";import{a as M}from"./VCard-b88cd889.js";const j=n=>(y("data-v-de02b552"),n=n(),C(),n),B=j(()=>s("h1",null,"Viestit",-1)),A={class:"main-wrapper"},N={class:"main-content"},z={class:"message-wrapper"},E={class:"message-info"},F={class:"name"},R={class:"job-title"},T={class:"latest-message"},G={class:"message"},J={__name:"Messages",setup(n){const p=g(),a=b(),_=V([]);a.user?a.getAllMessages().then(e=>{_.value=e.messages}):(p.replace({path:"/"}),a.tab="",a.loginDialogShowing=!0);function u(e){a.currentJobId=e.job.hashed_id,a.currentChatUserId=e.other_user_id,a.chatOpen=!0}function h(e){return t(e).isSame(t(),"day")?"Tänään "+t(e).format("HH:mm"):t(e).isSame(t().clone().subtract(1,"days"),"day")?"Eilen "+t(e).format("HH:mm"):t(e).format("DD.MM HH:mm")}return(e,L)=>(c(),l(m,null,[B,s("div",A,[s("div",N,[i(D,null,{default:d(()=>[(c(!0),l(m,null,I(_.value,(o,f)=>(c(),S(M,{key:f,onClick:O=>u(o),class:"message-container"},{default:d(()=>[s("div",z,[i(H,{class:"pic",src:v,"aspect-ratio":"1",cover:""}),s("div",E,[s("div",F,r(o.job.user.first_name)+" "+r(o.job.user.last_name),1),s("div",R,r(o.job.title),1),s("div",T,[s("div",G,r(o.message),1),i(k,{icon:"mdi-circle",size:"6"}),x(" "+r(h(o.time)),1)])])])]),_:2},1032,["onClick"]))),128))]),_:1})])])],64))}},q=w(J,[["__scopeId","data-v-de02b552"]]);export{q as default};
