import{p as q,i as lt,c as h,r as A,a as Ie,u as Vt,b as le,g as St,s as O,o as Le,d as xt,f as Nt,e as Ot,h as Ut,j as zt,k as ze,m as ge,l as we,n as oe,q as ue,t as a,v as nt,w as Ke,x as De,y as Ve,z as Ne,A as ce,B as ot,C as We,D as Ae,E as Se,F as st,G as Ct,V as be,H as Kt,I as Wt,J as Z,K as Fe,L as Re,M as ne,N as Ft,O as Xt,P as E,Q as Zt,R as qt,S as Jt,T as Gt,U as Qt,W as ea,X as ee,Y as ta,Z as he,_ as it,$ as aa,a0 as I,a1 as R,a2 as i,a3 as $,a4 as N,a5 as re,a6 as B,a7 as S,a8 as Y,a9 as tt,aa as me,ab as ut,ac as ae,ad as Xe,ae as Ze,af as la,ag as na,ah as oa,ai as sa,aj as ia,ak as ua,al as Tt,am as $t,an as It,ao as Mt,ap as ra,aq as ca,ar as jt,as as Bt,at as da,au as va,av as Lt,aw as ve,ax as Dt,ay as at,az as Me,aA as ma,aB as fa,aC as ga}from"./index-1e2fd370.js";import{V as ke,_ as xe,a as je,b as pe}from"./VDivider-9099ac37.js";import{u as rt,a as At,V as et,b as X,c as mt,d as ie,e as He,f as ha,g as ft,h as gt,i as Be,j as Ht,k as fe,l as Pt,m as ht,n as ya,o as yt}from"./VForm-3fcb8b49.js";import{V as _a,a as _t}from"./VTabs-8a755672.js";import{V as Oe,a as pa}from"./VHover-39becb94.js";const Ue=Symbol.for("vuetify:layout"),Et=Symbol.for("vuetify:layout-item"),pt=1e3,ka=q({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ct=q({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ba(){const e=lt(Ue);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function dt(e){const s=lt(Ue);if(!s)throw new Error("[Vuetify] Could not find injected layout");const t=e.id??`layout-item-${Ot()}`,l=St("useLayoutItem");xt(Et,{id:t});const n=O(!1);Ut(()=>n.value=!0),zt(()=>n.value=!1);const{layoutItemStyles:o,layoutItemScrimStyles:r}=s.register(l,{...e,active:h(()=>n.value?!1:e.active.value),id:t});return ze(()=>s.unregister(t)),{layoutItemStyles:o,layoutRect:s.layoutRect,layoutItemScrimStyles:r}}const wa=(e,s,t,l)=>{let n={top:0,left:0,right:0,bottom:0};const o=[{id:"",layer:{...n}}];for(const r of e){const f=s.get(r),m=t.get(r),u=l.get(r);if(!f||!m||!u)continue;const d={...n,[f.value]:parseInt(n[f.value],10)+(u.value?parseInt(m.value,10):0)};o.push({id:r,layer:d}),n=d}return o};function Va(e){const s=lt(Ue,null),t=h(()=>s?s.rootZIndex.value-100:pt),l=A([]),n=Ie(new Map),o=Ie(new Map),r=Ie(new Map),f=Ie(new Map),m=Ie(new Map),{resizeRef:u,contentRect:d}=Vt(),w=h(()=>{const p=new Map,C=e.overlaps??[];for(const V of C.filter(D=>D.includes(":"))){const[D,j]=V.split(":");if(!l.value.includes(D)||!l.value.includes(j))continue;const U=n.get(D),G=n.get(j),te=o.get(D),se=o.get(j);!U||!G||!te||!se||(p.set(j,{position:U.value,amount:parseInt(te.value,10)}),p.set(D,{position:G.value,amount:-parseInt(se.value,10)}))}return p}),k=h(()=>{const p=[...new Set([...r.values()].map(V=>V.value))].sort((V,D)=>V-D),C=[];for(const V of p){const D=l.value.filter(j=>{var U;return((U=r.get(j))==null?void 0:U.value)===V});C.push(...D)}return wa(C,n,o,f)}),_=h(()=>!Array.from(m.values()).some(p=>p.value)),b=h(()=>k.value[k.value.length-1].layer),P=h(()=>({"--v-layout-left":le(b.value.left),"--v-layout-right":le(b.value.right),"--v-layout-top":le(b.value.top),"--v-layout-bottom":le(b.value.bottom),..._.value?void 0:{transition:"none"}})),L=h(()=>k.value.slice(1).map((p,C)=>{let{id:V}=p;const{layer:D}=k.value[C],j=o.get(V),U=n.get(V);return{id:V,...D,size:Number(j.value),position:U.value}})),y=p=>L.value.find(C=>C.id===p),c=St("createLayout"),v=O(!1);Le(()=>{v.value=!0}),xt(Ue,{register:(p,C)=>{let{id:V,order:D,position:j,layoutSize:U,elementSize:G,active:te,disableTransitions:se,absolute:de}=C;r.set(V,D),n.set(V,j),o.set(V,U),f.set(V,te),se&&m.set(V,se);const M=Nt(Et,c==null?void 0:c.vnode).indexOf(p);M>-1?l.value.splice(M,0,V):l.value.push(V);const T=h(()=>L.value.findIndex(F=>F.id===V)),g=h(()=>t.value+k.value.length*2-T.value*2),z=h(()=>{const F=j.value==="left"||j.value==="right",Q=j.value==="right",ye=j.value==="bottom",Ee={[j.value]:0,zIndex:g.value,transform:`translate${F?"X":"Y"}(${(te.value?0:-110)*(Q||ye?-1:1)}%)`,position:de.value||t.value!==pt?"absolute":"fixed",..._.value?void 0:{transition:"none"}};if(!v.value)return Ee;const K=L.value[T.value];if(!K)throw new Error(`[Vuetify] Could not find layout item "${V}"`);const Ce=w.value.get(V);return Ce&&(K[Ce.position]+=Ce.amount),{...Ee,height:F?`calc(100% - ${K.top}px - ${K.bottom}px)`:G.value?`${G.value}px`:void 0,left:Q?void 0:`${K.left}px`,right:Q?`${K.right}px`:void 0,top:j.value!=="bottom"?`${K.top}px`:void 0,bottom:j.value!=="top"?`${K.bottom}px`:void 0,width:F?G.value?`${G.value}px`:void 0:`calc(100% - ${K.left}px - ${K.right}px)`}}),W=h(()=>({zIndex:g.value-1}));return{layoutItemStyles:z,layoutItemScrimStyles:W,zIndex:g}},unregister:p=>{r.delete(p),n.delete(p),o.delete(p),f.delete(p),m.delete(p),l.value=l.value.filter(C=>C!==p)},mainRect:b,mainStyles:P,getLayoutItem:y,items:L,layoutRect:d,rootZIndex:t});const H=h(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),x=h(()=>({zIndex:s?t.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:H,layoutStyles:x,getLayoutItem:y,items:L,layoutRect:d,layoutRef:u}}const Sa=q({text:String,...ge(),...we()},"VToolbarTitle"),xa=oe()({name:"VToolbarTitle",props:Sa(),setup(e,s){let{slots:t}=s;return ue(()=>{const l=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var n;return[l&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(n=t.default)==null?void 0:n.call(t)])]}})}),{}}}),Ca=[null,"prominent","default","comfortable","compact"],Rt=q({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ca.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...nt(),...ge(),...Ke(),...De(),...we({tag:"header"}),...Ve()},"VToolbar"),kt=oe()({name:"VToolbar",props:Rt(),setup(e,s){var _;let{slots:t}=s;const{backgroundColorClasses:l,backgroundColorStyles:n}=Ne(ce(e,"color")),{borderClasses:o}=ot(e),{elevationClasses:r}=We(e),{roundedClasses:f}=Ae(e),{themeClasses:m}=Se(e),{rtlClasses:u}=st(),d=O(!!(e.extended||(_=t.extension)!=null&&_.call(t))),w=h(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),k=h(()=>d.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Ct({VBtn:{variant:"text"}}),ue(()=>{var y;const b=!!(e.title||t.title),P=!!(t.image||e.image),L=(y=t.extension)==null?void 0:y.call(t);return d.value=!!(e.extended||L),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},l.value,o.value,r.value,f.value,m.value,u.value,e.class],style:[n.value,e.style]},{default:()=>[P&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(be,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(ke,{key:"image-img",cover:!0,src:e.image},null)]),a(be,{defaults:{VTabs:{height:le(w.value)}}},{default:()=>{var c,v,H;return[a("div",{class:"v-toolbar__content",style:{height:le(w.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(c=t.prepend)==null?void 0:c.call(t)]),b&&a(xa,{key:"title",text:e.title},{text:t.title}),(v=t.default)==null?void 0:v.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(H=t.append)==null?void 0:H.call(t)])])]}}),a(be,{defaults:{VTabs:{height:le(k.value)}}},{default:()=>[a(Kt,null,{default:()=>[d.value&&a("div",{class:"v-toolbar__extension",style:{height:le(k.value)}},[L])]})]})]})}),{contentHeight:w,extensionHeight:k}}}),Ta=q({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function $a(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=s;let l=0;const n=A(null),o=O(0),r=O(0),f=O(0),m=O(!1),u=O(!1),d=h(()=>Number(e.scrollThreshold)),w=h(()=>Wt((d.value-o.value)/d.value||0)),k=()=>{const _=n.value;!_||t&&!t.value||(l=o.value,o.value="window"in _?_.pageYOffset:_.scrollTop,u.value=o.value<l,f.value=Math.abs(o.value-d.value))};return Z(u,()=>{r.value=r.value||o.value}),Z(m,()=>{r.value=0}),Le(()=>{Z(()=>e.scrollTarget,_=>{var P;const b=_?document.querySelector(_):window;b&&b!==n.value&&((P=n.value)==null||P.removeEventListener("scroll",k),n.value=b,n.value.addEventListener("scroll",k,{passive:!0}))},{immediate:!0})}),ze(()=>{var _;(_=n.value)==null||_.removeEventListener("scroll",k)}),t&&Z(t,k,{immediate:!0}),{scrollThreshold:d,currentScroll:o,currentThreshold:f,isScrollActive:m,scrollRatio:w,isScrollingUp:u,savedScroll:r}}const Ia=q({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Rt(),...ct(),...Ta(),height:{type:[Number,String],default:64}},"VAppBar"),Ma=oe()({name:"VAppBar",props:Ia(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:t}=s;const l=A(),n=Fe(e,"modelValue"),o=h(()=>{var c;const y=new Set(((c=e.scrollBehavior)==null?void 0:c.split(" "))??[]);return{hide:y.has("hide"),inverted:y.has("inverted"),collapse:y.has("collapse"),elevate:y.has("elevate"),fadeImage:y.has("fade-image")}}),r=h(()=>{const y=o.value;return y.hide||y.inverted||y.collapse||y.elevate||y.fadeImage||!n.value}),{currentScroll:f,scrollThreshold:m,isScrollingUp:u,scrollRatio:d}=$a(e,{canScroll:r}),w=h(()=>e.collapse||o.value.collapse&&(o.value.inverted?d.value>0:d.value===0)),k=h(()=>e.flat||o.value.elevate&&(o.value.inverted?f.value>0:f.value===0)),_=h(()=>o.value.fadeImage?o.value.inverted?1-d.value:d.value:void 0),b=h(()=>{var v,H;if(o.value.hide&&o.value.inverted)return 0;const y=((v=l.value)==null?void 0:v.contentHeight)??0,c=((H=l.value)==null?void 0:H.extensionHeight)??0;return y+c});Re(h(()=>!!e.scrollBehavior),()=>{Ft(()=>{o.value.hide?o.value.inverted?n.value=f.value>m.value:n.value=u.value||f.value<m.value:n.value=!0})});const{ssrBootStyles:P}=rt(),{layoutItemStyles:L}=dt({id:e.name,order:h(()=>parseInt(e.order,10)),position:ce(e,"location"),layoutSize:b,elementSize:O(void 0),active:n,absolute:ce(e,"absolute")});return ue(()=>{const[y]=kt.filterProps(e);return a(kt,ne({ref:l,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...L.value,"--v-toolbar-image-opacity":_.value,height:void 0,...P.value},e.style]},y,{collapse:w.value,flat:k.value}),t)}),{}}}),ja=q({...Xt({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Ba=oe()({name:"VAppBarNavIcon",props:ja(),setup(e,s){let{slots:t}=s;return ue(()=>a(E,ne(e,{class:["v-app-bar-nav-icon"]}),t)),{}}});function La(e){let{rootEl:s,isSticky:t,layoutItemStyles:l}=e;const n=O(!1),o=O(0),r=h(()=>{const u=typeof n.value=="boolean"?"top":n.value;return[t.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[u]:le(o.value)}:{top:l.value.top}]});Le(()=>{Z(t,u=>{u?window.addEventListener("scroll",m,{passive:!0}):window.removeEventListener("scroll",m)},{immediate:!0})}),ze(()=>{window.removeEventListener("scroll",m)});let f=0;function m(){const u=f>window.scrollY?"up":"down",d=s.value.getBoundingClientRect(),w=parseFloat(l.value.top??0),k=window.scrollY-Math.max(0,o.value-w),_=d.height+Math.max(o.value,w)-window.scrollY-window.innerHeight,b=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-w?(n.value="top",o.value=w):u==="up"&&n.value==="bottom"||u==="down"&&n.value==="top"?(o.value=window.scrollY+d.top-b,n.value=!0):u==="down"&&_<=0?(o.value=0,n.value="bottom"):u==="up"&&k<=0&&(b?n.value!=="top"&&(o.value=-k+b+w,n.value="top"):(o.value=d.top+k,n.value="top")),f=window.scrollY}return{isStuck:n,stickyStyles:r}}const Da=100,Aa=20;function bt(e){const s=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*s}function wt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let t=e.length-1;t>0;t--){if(e[t].t===e[t-1].t)continue;const l=bt(s),n=(e[t].d-e[t-1].d)/(e[t].t-e[t-1].t);s+=(n-l)*Math.abs(n),t===e.length-1&&(s*=.5)}return bt(s)*1e3}function Ha(){const e={};function s(n){Array.from(n.changedTouches).forEach(o=>{(e[o.identifier]??(e[o.identifier]=new Zt(Aa))).push([n.timeStamp,o])})}function t(n){Array.from(n.changedTouches).forEach(o=>{delete e[o.identifier]})}function l(n){var u;const o=(u=e[n])==null?void 0:u.values().reverse();if(!o)throw new Error(`No samples for touch id ${n}`);const r=o[0],f=[],m=[];for(const d of o){if(r[0]-d[0]>Da)break;f.push({t:d[0],d:d[1].clientX}),m.push({t:d[0],d:d[1].clientY})}return{x:wt(f),y:wt(m),get direction(){const{x:d,y:w}=this,[k,_]=[Math.abs(d),Math.abs(w)];return k>_&&d>=0?"right":k>_&&d<=0?"left":_>k&&w>=0?"down":_>k&&w<=0?"up":Pa()}}}return{addMovement:s,endTouch:t,getVelocity:l}}function Pa(){throw new Error}function Ea(e){let{isActive:s,isTemporary:t,width:l,touchless:n,position:o}=e;Le(()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",c,{passive:!1}),window.addEventListener("touchend",v,{passive:!0})}),ze(()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",c),window.removeEventListener("touchend",v)});const r=h(()=>["left","right"].includes(o.value)),{addMovement:f,endTouch:m,getVelocity:u}=Ha();let d=!1;const w=O(!1),k=O(0),_=O(0);let b;function P(x,p){return(o.value==="left"?x:o.value==="right"?document.documentElement.clientWidth-x:o.value==="top"?x:o.value==="bottom"?document.documentElement.clientHeight-x:_e())-(p?l.value:0)}function L(x){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const C=o.value==="left"?(x-_.value)/l.value:o.value==="right"?(document.documentElement.clientWidth-x-_.value)/l.value:o.value==="top"?(x-_.value)/l.value:o.value==="bottom"?(document.documentElement.clientHeight-x-_.value)/l.value:_e();return p?Math.max(0,Math.min(1,C)):C}function y(x){if(n.value)return;const p=x.changedTouches[0].clientX,C=x.changedTouches[0].clientY,V=25,D=o.value==="left"?p<V:o.value==="right"?p>document.documentElement.clientWidth-V:o.value==="top"?C<V:o.value==="bottom"?C>document.documentElement.clientHeight-V:_e(),j=s.value&&(o.value==="left"?p<l.value:o.value==="right"?p>document.documentElement.clientWidth-l.value:o.value==="top"?C<l.value:o.value==="bottom"?C>document.documentElement.clientHeight-l.value:_e());(D||j||s.value&&t.value)&&(d=!0,b=[p,C],_.value=P(r.value?p:C,s.value),k.value=L(r.value?p:C),m(x),f(x))}function c(x){const p=x.changedTouches[0].clientX,C=x.changedTouches[0].clientY;if(d){if(!x.cancelable){d=!1;return}const D=Math.abs(p-b[0]),j=Math.abs(C-b[1]);(r.value?D>j&&D>3:j>D&&j>3)?(w.value=!0,d=!1):(r.value?j:D)>3&&(d=!1)}if(!w.value)return;x.preventDefault(),f(x);const V=L(r.value?p:C,!1);k.value=Math.max(0,Math.min(1,V)),V>1?_.value=P(r.value?p:C,!0):V<0&&(_.value=P(r.value?p:C,!1))}function v(x){if(d=!1,!w.value)return;f(x),w.value=!1;const p=u(x.changedTouches[0].identifier),C=Math.abs(p.x),V=Math.abs(p.y);(r.value?C>V&&C>400:V>C&&V>3)?s.value=p.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||_e()):s.value=k.value>.5}const H=h(()=>w.value?{transform:o.value==="left"?`translateX(calc(-100% + ${k.value*l.value}px))`:o.value==="right"?`translateX(calc(100% - ${k.value*l.value}px))`:o.value==="top"?`translateY(calc(-100% + ${k.value*l.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${k.value*l.value}px))`:_e(),transition:"none"}:void 0);return{isDragging:w,dragProgress:k,dragStyles:H}}function _e(){throw new Error}const Ra=["start","end","left","right","top","bottom"],Ya=q({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Ra.includes(e)},sticky:Boolean,...nt(),...ge(),...Ke(),...ct(),...De(),...we({tag:"nav"}),...Ve()},"VNavigationDrawer"),Na=oe()({name:"VNavigationDrawer",props:Ya(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,s){let{attrs:t,emit:l,slots:n}=s;const{isRtl:o}=st(),{themeClasses:r}=Se(e),{borderClasses:f}=ot(e),{backgroundColorClasses:m,backgroundColorStyles:u}=Ne(ce(e,"color")),{elevationClasses:d}=We(e),{mobile:w}=qt(),{roundedClasses:k}=Ae(e),_=Jt(),b=Fe(e,"modelValue",null,g=>!!g),{ssrBootStyles:P}=rt(),{scopeId:L}=At(),y=A(),c=O(!1),v=h(()=>e.rail&&e.expandOnHover&&c.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),H=h(()=>Gt(e.location,o.value)),x=h(()=>!e.permanent&&(w.value||e.temporary)),p=h(()=>e.sticky&&!x.value&&H.value!=="bottom");Re(()=>e.expandOnHover&&e.rail!=null,()=>{Z(c,g=>l("update:rail",!g))}),Re(()=>!e.disableResizeWatcher,()=>{Z(x,g=>!e.permanent&&ta(()=>b.value=!g))}),Re(()=>!e.disableRouteWatcher&&!!_,()=>{Z(_.currentRoute,()=>x.value&&(b.value=!1))}),Z(()=>e.permanent,g=>{g&&(b.value=!0)}),Qt(()=>{e.modelValue!=null||x.value||(b.value=e.permanent||!w.value)});const{isDragging:C,dragProgress:V,dragStyles:D}=Ea({isActive:b,isTemporary:x,width:v,touchless:ce(e,"touchless"),position:H}),j=h(()=>{const g=x.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):v.value;return C.value?g*V.value:g}),{layoutItemStyles:U,layoutItemScrimStyles:G}=dt({id:e.name,order:h(()=>parseInt(e.order,10)),position:H,layoutSize:j,elementSize:v,active:h(()=>b.value||C.value),disableTransitions:h(()=>C.value),absolute:h(()=>e.absolute||p.value&&typeof te.value!="string")}),{isStuck:te,stickyStyles:se}=La({rootEl:y,isSticky:p,layoutItemStyles:U}),de=Ne(h(()=>typeof e.scrim=="string"?e.scrim:null)),Pe=h(()=>({...C.value?{opacity:V.value*.2,transition:"none"}:void 0,...G.value}));Ct({VList:{bgColor:"transparent"}});function M(){c.value=!0}function T(){c.value=!1}return ue(()=>{const g=n.image||e.image;return a(ee,null,[a(e.tag,ne({ref:y,onMouseenter:M,onMouseleave:T,class:["v-navigation-drawer",`v-navigation-drawer--${H.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":c.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":x.value,"v-navigation-drawer--active":b.value,"v-navigation-drawer--sticky":p.value},r.value,m.value,f.value,d.value,k.value,e.class],style:[u.value,U.value,D.value,P.value,se.value,e.style]},L,t),{default:()=>{var z,W,F,Q;return[g&&a("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?(z=n.image)==null?void 0:z.call(n,{image:e.image}):a("img",{src:e.image,alt:""},null)]),n.prepend&&a("div",{class:"v-navigation-drawer__prepend"},[(W=n.prepend)==null?void 0:W.call(n)]),a("div",{class:"v-navigation-drawer__content"},[(F=n.default)==null?void 0:F.call(n)]),n.append&&a("div",{class:"v-navigation-drawer__append"},[(Q=n.append)==null?void 0:Q.call(n)])]}}),a(ea,{name:"fade-transition"},{default:()=>[x.value&&(C.value||b.value)&&!!e.scrim&&a("div",ne({class:["v-navigation-drawer__scrim",de.backgroundColorClasses.value],style:[Pe.value,de.backgroundColorStyles.value],onClick:()=>b.value=!1},L),null)]})])}),{isStuck:te}}}),Oa=e=>(Xe("data-v-8a7d9dc2"),e=e(),Ze(),e),Ua={class:"unseen-wrapper"},za={key:0,class:"unseen-count"},Ka=Oa(()=>S("div",{class:"not-seen"},null,-1)),Wa={class:"latest-message"},Fa={class:"message"},Xa={class:"messages-count"},Za={key:1,class:"no-messages-text"},qa={__name:"AppBar",setup(e){const s=he(),t=A(!1),l=it(),n=aa(),o=A(!1),r=A(!1);let f=n.name||"jobs";s.tab=f;const m=["profile","messages","listings"];function u(y){if(o.value=!1,r.value=!1,t.value=!1,m.includes(y)){s.tab="account",y==="profile"?l.push("/account"):l.push("/account/"+y);return}setTimeout(()=>{l.push(`/${y}`),s.tab=y},10),setTimeout(()=>{s.updateMainComponent++},100)}function d(){s.logOut()}function w(y){o.value=!1,s.openChat(y)}const k=[{title:"Tili",onClick:()=>u("profile")},{title:"Viestit",onClick:()=>u("messages")},{title:"Omat listaukset",onClick:()=>u("listings")},{title:"Kirjaudu ulos",onClick:()=>d(),icon:"mdi-logout"}],_=h(()=>s.unseenMessages),b=h(()=>s.allUnseenMessages);function P(y){return b.value.filter(c=>c.job_hashed_id===y.job_hashed_id&&c.other_user_id===y.other_user_id).length}setTimeout(()=>{s.tab=f},1);function L(y){return ae(y).isSame(ae(),"day")?"Tänään "+ae(y).format("HH:mm"):ae(y).isSame(ae().clone().subtract(1,"days"),"day")?"Eilen "+ae(y).format("HH:mm"):ae(y).format("DD.MM HH:mm")}return(y,c)=>(I(),R(ee,null,[a(Na,{modelValue:t.value,"onUpdate:modelValue":c[11]||(c[11]=v=>t.value=v),temporary:""},{default:i(()=>[a(et,null,{default:i(()=>[$(s).user?(I(),R(ee,{key:0},[$(s).user.has_image?(I(),N(X,{key:0,"prepend-avatar":$(s).user.profileImageUrl,title:$(s).user.first_name+" "+$(s).user.last_name,subtitle:$(s).user.email,class:"drawer-item pb-4 pt-2",active:!1,onClick:c[0]||(c[0]=v=>u("profile"))},null,8,["prepend-avatar","title","subtitle"])):re("",!0),a(X,{"prepend-icon":"mdi-message-text",title:"Viestit",active:!1,onClick:c[1]||(c[1]=v=>u("messages")),class:"drawer-item"}),a(X,{"prepend-icon":"mdi-clipboard-account",title:"Omat ilmoitukset",active:!1,onClick:c[2]||(c[2]=v=>u("listings")),class:"drawer-item"})],64)):(I(),N(X,{key:1},{default:i(()=>[a(E,{text:"90",rounded:"lg",class:"text-none bg-primary mb-3 mt-2 drawer-login-btn",onClick:c[3]||(c[3]=v=>$(s).loginDialogShowing=!0)},{default:i(()=>[B("Kirjaudu sisään")]),_:1})]),_:1})),a(je,{class:"mt-2 mb-2"}),a(X,{"prepend-icon":"mdi-briefcase",title:"Työt",onClick:c[4]||(c[4]=v=>u("jobs")),active:!1,class:"drawer-item"}),a(X,{"prepend-icon":"mdi-account-group",title:"Henkilöt ja palvelut",onClick:c[5]||(c[5]=v=>u("workers")),active:!1,class:"drawer-item"}),a(je,{class:"mt-2 mb-2"}),a(X,{"prepend-icon":"mdi-headset",title:"Asiakastuki",onClick:c[6]||(c[6]=v=>u("jobs")),active:!1,class:"drawer-item"}),a(X,{"prepend-icon":"mdi-information",title:"Tietoa meistä",onClick:c[7]||(c[7]=v=>u("jobs")),active:!1,class:"drawer-item"}),a(X,{"prepend-icon":"mdi-shield",title:"Tietosuojakäytäntö",onClick:c[8]||(c[8]=v=>u("jobs")),active:!1,class:"drawer-item"}),a(X,{"prepend-icon":"mdi-comment",title:"Anna palautetta",onClick:c[9]||(c[9]=v=>u("jobs")),active:!1,class:"drawer-item"}),$(s).user?(I(),R(ee,{key:2},[a(je,{class:"mt-2 mb-2"}),a(X,{"prepend-icon":"mdi-logout",title:"Kirjaudu ulos",onClick:c[10]||(c[10]=v=>d()),active:!1,class:"drawer-item"})],64)):re("",!0)]),_:1})]),_:1},8,["modelValue"]),a(Ma,null,{append:i(()=>[$(s).user?(I(),R(ee,{key:0},[a(E,{"prepend-icon":"mdi-plus",class:"mr-5",style:{height:"100%"},onClick:c[16]||(c[16]=v=>u("add-job"))},{default:i(()=>[B(" Luo listaus ")]),_:1}),a(mt,{modelValue:o.value,"onUpdate:modelValue":c[18]||(c[18]=v=>o.value=v),class:"mr-1","close-on-content-click":!1},{activator:i(({props:v})=>[S("div",Ua,[a(E,ne({icon:"mdi-message-text"},v),null,16),_.value.length>0?(I(),R("div",za,Y(b.value.length),1)):re("",!0)])]),default:i(()=>[a(ie,null,{default:i(()=>[a(He,{style:{"font-size":"18px"}},{default:i(()=>[B(" Lukemattomat viestit ")]),_:1}),S("div",{class:"show-all-messages",onClick:c[17]||(c[17]=v=>u("messages"))}," Näytä kaikki "),a(je),_.value.length>0?(I(),N(et,{key:0,class:"recent-messages"},{default:i(()=>[(I(!0),R(ee,null,tt(_.value,(v,H)=>(I(),N(X,{key:H,value:H,class:"pt-4 pb-4",onClick:x=>w(v)},{prepend:i(()=>[Ka,a(ha,{size:"50px"},{default:i(()=>[a(ke,{alt:"Avatar",src:`${$(s).url}/profile-image/${v.other_user_id}.jpg`},null,8,["src"])]),_:2},1024)]),default:i(()=>[a(ft,null,{default:i(()=>[B(Y(v.other_full_name),1)]),_:2},1024),a(gt,{style:{opacity:"1"},class:"pt-1"},{default:i(()=>[B(Y(v.job_title),1)]),_:2},1024),a(gt,{class:"pt-1"},{default:i(()=>[S("div",Wa,[S("div",Fa,Y(v.message),1),a(me,{icon:"mdi-circle",size:"6"}),B(" "+Y(L(v.time)),1)])]),_:2},1024),S("div",Xa,Y(P(v)),1)]),_:2},1032,["value","onClick"]))),128))]),_:1})):(I(),R("div",Za," Tyhjää täynnä "))]),_:1})]),_:1},8,["modelValue"]),a(mt,{"close-on-content-click":!1,modelValue:r.value,"onUpdate:modelValue":c[19]||(c[19]=v=>r.value=v)},{activator:i(({props:v})=>[a(E,ne({icon:"mdi-account"},v),null,16)]),default:i(()=>[a(et,{"min-width":"180px"},{default:i(()=>[(I(),R(ee,null,tt(k,(v,H)=>a(X,{key:H,value:H,onClick:x=>v.onClick(),"append-icon":v.icon??""},{default:i(()=>[a(ft,null,{default:i(()=>[B(Y(v.title),1)]),_:2},1024)]),_:2},1032,["value","onClick","append-icon"])),64))]),_:1})]),_:1},8,["modelValue"])],64)):(I(),N(E,{key:1,size:"small",text:"81",rounded:"xl",class:"text-none login-btn bg-primary",onClick:c[20]||(c[20]=v=>$(s).loginDialogShowing=!0)},{default:i(()=>[B("Kirjaudu sisään")]),_:1}))]),default:i(()=>[a(Ba,{onClick:c[12]||(c[12]=ut(v=>t.value=!t.value,["stop"]))}),a(_a,{class:"d-none d-sm-flex",modelValue:$(s).tab,"onUpdate:modelValue":c[15]||(c[15]=v=>$(s).tab=v)},{default:i(()=>[a(_t,{onClick:c[13]||(c[13]=v=>u("jobs")),value:"jobs",class:"text-none tab"},{default:i(()=>[B("Avoimet työt")]),_:1}),a(_t,{onClick:c[14]||(c[14]=v=>u("workers")),value:"workers",class:"text-none tab"},{default:i(()=>[B("Henkilöt ja palvelut")]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}},Ja=xe(qa,[["__scopeId","data-v-8a7d9dc2"]]),Ga="/tiktok.svg";const Qa=q({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...nt(),...ge(),...Ke(),...ct(),...De(),...we({tag:"footer"}),...Ve()},"VFooter"),el=oe()({name:"VFooter",props:Qa(),setup(e,s){let{slots:t}=s;const{themeClasses:l}=Se(e),{backgroundColorClasses:n,backgroundColorStyles:o}=Ne(ce(e,"color")),{borderClasses:r}=ot(e),{elevationClasses:f}=We(e),{roundedClasses:m}=Ae(e),u=O(32),{resizeRef:d}=Vt(_=>{_.length&&(u.value=_[0].target.clientHeight)}),w=h(()=>e.height==="auto"?u.value:parseInt(e.height,10)),{layoutItemStyles:k}=dt({id:e.name,order:h(()=>parseInt(e.order,10)),position:h(()=>"bottom"),layoutSize:w,elementSize:h(()=>e.height==="auto"?void 0:w.value),active:h(()=>e.app),absolute:ce(e,"absolute")});return ue(()=>a(e.tag,{ref:d,class:["v-footer",l.value,n.value,r.value,f.value,m.value,e.class],style:[o.value,e.app?k.value:{height:le(e.height)},e.style]},t)),{}}});const tl=q({scrollable:Boolean,...ge(),...we({tag:"main"})},"VMain"),al=oe()({name:"VMain",props:tl(),setup(e,s){let{slots:t}=s;const{mainStyles:l}=ba(),{ssrBootStyles:n}=rt();return ue(()=>a(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[l.value,n.value,e.style]},{default:()=>{var o,r;return[e.scrollable?a("div",{class:"v-main__scroller"},[(o=t.default)==null?void 0:o.call(t)]):(r=t.default)==null?void 0:r.call(t)]}})),{}}}),ll={data:()=>({icons:["mdi-facebook","mdi-twitter","mdi-instagram"],store:he()}),mounted(){},methods:{closeDialog(){this.store.maintenanceDialog=!1}},computed:{dialog(){return this.store.maintenanceDialog}}},qe=e=>(Xe("data-v-1a38ae58"),e=e(),Ze(),e),nl={style:{"min-height":"calc(100vh - 64px)"}},ol=qe(()=>S("h4",{class:"title"},"Käytäntömme",-1)),sl=qe(()=>S("div",{class:"policy"},[S("a",{class:"footer-link"}," Tietosuojakäytäntö "),S("div",{class:"divider"}),S("a",{class:"footer-link"}," Ehdot "),S("div",{class:"divider"}),S("a",{class:"footer-link"}," Ohje ja tuki ")],-1)),il=qe(()=>S("h4",{class:"title mt-5"},"Sosiaalinen media",-1)),ul={class:"pb-10"},rl=qe(()=>S("img",{style:{filter:"brightness(0) invert(1)",width:"50%"},src:Ga},null,-1));function cl(e,s,t,l,n,o){const r=la("router-view");return I(),R(ee,null,[a(al,null,{default:i(()=>[S("div",nl,[a(r)]),a(el,{class:"footer bg-grey-darken-4 text-center d-flex flex-column pt-10"},{default:i(()=>[ol,sl,il,S("div",ul,[a(E,{class:"mx-4",variant:"text",href:"https://www.instagram.com/rekrytorsuomi/",target:"_blank",icon:"mdi-instagram"}),a(E,{class:"mx-4",variant:"text",icon:"",href:"https://www.tiktok.com/@rekrytorsuomi",target:"_blank"},{default:i(()=>[rl]),_:1})])]),_:1})]),_:1}),a(fe,{modelValue:o.dialog,"onUpdate:modelValue":s[1]||(s[1]=f=>o.dialog=f),width:"400px",persistent:""},{default:i(()=>[a(ie,null,{default:i(()=>[a(He,{class:"headline"},{default:i(()=>[B("Sivusto Kehityksessä")]),_:1}),a(Be,null,{default:i(()=>[B(" Tervetuloa rekrytor.fi-sivustolle! Huomioithan, että sivusto on parhaillaan kehitysvaiheessa. Kaikki data on väliaikaista ja suojaamatonta. Jatkamalla hyväksyt nämä ehdot. ")]),_:1}),a(Ht,null,{default:i(()=>[a(na),a(E,{color:"green darken-1",text:"",onClick:s[0]||(s[0]=f=>o.closeDialog())},{default:i(()=>[B("Hyväksy")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const dl=xe(ll,[["render",cl],["__scopeId","data-v-1a38ae58"]]);const vl=oa("v-alert-title"),ml=["success","info","warning","error"],fl=q({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:sa,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>ml.includes(e)},...ge(),...ia(),...ua(),...Ke(),...Tt(),...$t(),...De(),...we(),...Ve(),...It({variant:"flat"})},"VAlert"),gl=oe()({name:"VAlert",props:fl(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{emit:t,slots:l}=s;const n=Fe(e,"modelValue"),o=h(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),r=h(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:f}=Se(e),{colorClasses:m,colorStyles:u,variantClasses:d}=Mt(r),{densityClasses:w}=ra(e),{dimensionStyles:k}=ca(e),{elevationClasses:_}=We(e),{locationStyles:b}=jt(e),{positionClasses:P}=Bt(e),{roundedClasses:L}=Ae(e),{textColorClasses:y,textColorStyles:c}=da(ce(e,"borderColor")),{t:v}=va(),H=h(()=>({"aria-label":v(e.closeLabel),onClick(x){n.value=!1,t("click:close",x)}}));return()=>{const x=!!(l.prepend||o.value),p=!!(l.title||e.title),C=!!(l.close||e.closable);return n.value&&a(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},f.value,m.value,w.value,_.value,P.value,L.value,d.value,e.class],style:[u.value,k.value,b.value,e.style],role:"alert"},{default:()=>{var V,D;return[Lt(!1,"v-alert"),e.border&&a("div",{key:"border",class:["v-alert__border",y.value],style:c.value},null),x&&a("div",{key:"prepend",class:"v-alert__prepend"},[l.prepend?a(be,{key:"prepend-defaults",disabled:!o.value,defaults:{VIcon:{density:e.density,icon:o.value,size:e.prominent?44:28}}},l.prepend):a(me,{key:"prepend-icon",density:e.density,icon:o.value,size:e.prominent?44:28},null)]),a("div",{class:"v-alert__content"},[p&&a(vl,{key:"title"},{default:()=>{var j;return[((j=l.title)==null?void 0:j.call(l))??e.title]}}),((V=l.text)==null?void 0:V.call(l))??e.text,(D=l.default)==null?void 0:D.call(l)]),l.append&&a("div",{key:"append",class:"v-alert__append"},[l.append()]),C&&a("div",{key:"close",class:"v-alert__close"},[l.close?a(be,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var j;return[(j=l.close)==null?void 0:j.call(l,{props:H.value})]}}):a(E,ne({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},H.value),null)])]}})}}}),Yt=e=>(Xe("data-v-e50d2ddd"),e=e(),Ze(),e),hl={class:"new-account-text mt-5"},yl=Yt(()=>S("a",{class:"link"}," Käyttöehdot ",-1)),_l=Yt(()=>S("a",{class:"link"}," Yksityisyydensuojan ",-1)),pl={__name:"Login",setup(e){const s=it(),t=he(),l=A(null),n=A(null),o=A(!0);function r(){let m={email:l.value,password:n.value};t.loading=!0,t.loadingBackground=!0,t.login(m).then(u=>{u.status!="error"&&u.token?(t.loginDialogShowing=!1,t.auth_token=u.token,setTimeout(()=>{t.getUser().then(()=>{t.loading=!1,t.loadingBackground=!1,t.snackbarText="Kirjauduit sisään",t.snackbarColor="green-darken-2",t.snackbar=!0,t.updateMainComponent++,t.redirect&&(s.replace({path:"/"+t.redirect.url}),t.tab=t.redirect.tab),t.userInit()})},10)):(t.loading=!1,t.loadingBackground=!1,o.value=!1)}).catch(()=>{t.loading=!1,t.loadingBackground=!1,t.errorToast("Kirjautuminen epäonnistui")})}function f(){t.registerDialogShowing=!0}return(m,u)=>(I(),N(fe,{modelValue:$(t).loginDialogShowing,"onUpdate:modelValue":u[5]||(u[5]=d=>$(t).loginDialogShowing=d),"max-width":"500",persistent:""},{default:i(()=>[a(ie,null,{default:i(()=>[a(He,{class:"headline pa-4"},{default:i(()=>[B(" Kirjaudu sisään ")]),_:1}),a(je),a(Be,{class:"pa-4"},{default:i(()=>[o.value?re("",!0):(I(),N(gl,{key:0,type:"error",prominent:"",dense:"",onClick:u[0]||(u[0]=d=>o.value=!0)},{default:i(()=>[a(pe,{align:"center"},{default:i(()=>[a(Oe,{class:"flex-grow-1"},{default:i(()=>[B(" Kirjautuminen epäonnistui: Väärä sähköposti tai salasana ")]),_:1})]),_:1})]),_:1})),a(Pt,{onSubmit:ut(r,["prevent"])},{default:i(()=>[a(ve,{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=d=>l.value=d),label:"Sähköposti",outlined:"",type:"email",name:"email",error:!o.value,class:"my-2"},null,8,["modelValue","error"]),a(ve,{modelValue:n.value,"onUpdate:modelValue":u[2]||(u[2]=d=>n.value=d),label:"Salasana",outlined:"",type:"password",name:"password",error:!o.value,class:"my-2"},null,8,["modelValue","error"]),a(Oe,{class:"pa-0"},{default:i(()=>[a(E,{type:"submit",color:"primary",elevation:"2",class:"submit-btn"},{default:i(()=>[B("Kirjaudu sisään")]),_:1})]),_:1})]),_:1},8,["onSubmit"]),S("div",hl,[B(" Uusi käyttäjä? "),S("a",{class:"create-account-btn",onClick:u[3]||(u[3]=d=>f())},"Luo käyttäjä")])]),_:1}),a(Be,{class:"terms pa-4"},{default:i(()=>[B(" Kirjautumalla sisään hyväksyt "),yl,B(" ja "),_l]),_:1}),a(E,{icon:"",onClick:u[4]||(u[4]=d=>$(t).loginDialogShowing=!1),class:"dialog-close-btn",flat:""},{default:i(()=>[a(me,null,{default:i(()=>[B("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},kl=xe(pl,[["__scopeId","data-v-e50d2ddd"]]);const bl={__name:"Register",setup(e){const s=he(),t=A(null),l=A(null),n=A(null),o=A(null);function r(){let f={first_name:t.value,last_name:l.value,email:n.value,password:o.value};s.loading=!0,s.register(f).then(m=>{m.status!="error"&&m.token?(s.registerDialogShowing=!1,s.auth_token=m.token,s.getUser().then(()=>{s.loading=!1})):s.loading=!1}).catch(()=>{s.loading=!1,s.errorToast("Käyttäjän luominen epäonnistui")})}return(f,m)=>(I(),N(fe,{modelValue:$(s).registerDialogShowing,"onUpdate:modelValue":m[5]||(m[5]=u=>$(s).registerDialogShowing=u),"max-width":"500"},{default:i(()=>[a(ie,{"min-width":"300"},{default:i(()=>[a(He,{class:"headline pa-4"},{default:i(()=>[B("Luo käyttäjä")]),_:1}),a(Be,null,{default:i(()=>[a(Pt,{onSubmit:ut(r,["prevent"])},{default:i(()=>[a(ve,{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=u=>t.value=u),label:"Etunimi",type:"text",name:"fname"},null,8,["modelValue"]),a(ve,{modelValue:l.value,"onUpdate:modelValue":m[1]||(m[1]=u=>l.value=u),label:"Sukunimi",type:"text",name:"lname"},null,8,["modelValue"]),a(ve,{modelValue:n.value,"onUpdate:modelValue":m[2]||(m[2]=u=>n.value=u),label:"Sähköposti",type:"email"},null,8,["modelValue"]),a(ve,{modelValue:o.value,"onUpdate:modelValue":m[3]||(m[3]=u=>o.value=u),label:"Salasana",type:"password"},null,8,["modelValue"]),a(Oe,{class:"text-right"},{default:i(()=>[a(E,{type:"submit",color:"primary",class:"text-none"},{default:i(()=>[B("Luo käyttäjä")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),a(E,{icon:"",onClick:m[4]||(m[4]=u=>$(s).registerDialogShowing=!1),class:"dialog-close-btn",flat:""},{default:i(()=>[a(me,null,{default:i(()=>[B("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},wl=xe(bl,[["__scopeId","data-v-a4465ca4"]]);const Vl={class:"loading-overlay"},Sl={__name:"Loader",setup(e){const s=he();return(t,l)=>(I(),N(fe,{modelValue:$(s).loading,"onUpdate:modelValue":l[0]||(l[0]=n=>$(s).loading=n),class:at({"dark-background":$(s).loadingBackground}),persistent:""},{default:i(()=>[S("div",Vl,[S("span",{class:"loader",style:Dt($(s).loadingBackground?"border-color: #fff":"")},null,4)])]),_:1},8,["modelValue","class"]))}},xl=xe(Sl,[["__scopeId","data-v-5d1e1643"]]);const Je=e=>(Xe("data-v-8fadfb19"),e=e(),Ze(),e),Cl={class:"chat"},Tl={class:"contact bar"},$l={class:"name"},Il=["onClick"],Ml={key:0},jl={key:1},Bl={key:0,class:"status"},Ll={key:1,class:"date"},Dl={key:0,class:"message received"},Al=Je(()=>S("div",{class:"typing typing-1"},null,-1)),Hl=Je(()=>S("div",{class:"typing typing-2"},null,-1)),Pl=Je(()=>S("div",{class:"typing typing-3"},null,-1)),El=[Al,Hl,Pl],Rl={class:"job-container"},Yl={class:"job-content"},Nl={class:"job-main"},Ol={class:"job-title"},Ul={class:"job-info"},zl={class:"job-info-item"},Kl={key:0,class:"deleted-job"},Wl=Je(()=>S("canvas",{id:"imageAttachmentCanvas",style:{display:"none"}},null,-1)),Fl={__name:"Chat",setup(e){const s=it(),t=he(),l=h(()=>t.chatOpen);A(!1);const n=A(null),o=h(()=>t.currentChatMessages),r=A(null),f=A(""),m=A(!1),u=A(null),d=A(null),w=A(null),k=A(null),_=A(null),b=A(!1),P=A(null),L=A(!1),y=A(null),c=h(()=>t.chat.jobId),v=h(()=>t.chat.userId);function H(){if(f.value.trim()===""||f.value.trim().length===0)return;let M={job_id:c.value,message:f.value,receiver_id:v.value};t.sendMessage(M).then(()=>{}).catch(()=>{}),f.value=""}Z(l,async(M,T)=>{M?t.user?x():(t.chatOpen=!1,t.loginDialogShowing=!0):(t.chatOpen=!1,t.chat.jobId=null,t.chat.userId=null)}),Z(o,async(M,T)=>{M.length!=T.length&&p()},{deep:!0});function x(){t.getMessages(c.value,v.value).then(M=>{n.value=M.user.name,d.value=M.user,r.value=M.job,p()})}function p(){setTimeout(()=>{u.value&&u.value.scroll({top:u.value.scrollHeight})},10)}function C(M){return ae(M).format("HH:mm")}function V(){r.value&&!r.value.is_deleted&&(s.push("/jobs/"+r.value.hashed_id),t.chatOpen=!1,t.tab="job")}function D(M){return M.seen?"Nähty":"Toimitettu"}function j(){t.chatOpen=!1}function U(){P.value.click()}function G(M){const T=M.target.files[0];if(k.value=T.name,T)if(T.type.startsWith("image/")&&!T.type.startsWith("image/gif")||T.type==="application/pdf"){if(w.value=null,_.value=null,t.loading=!0,b.value=!0,T.type.startsWith("image/")){var g=new FileReader;g.onload=function(z){const W=new Image;W.onload=()=>{let F=1080,Q=1080;const ye=document.getElementById("imageAttachmentCanvas"),Ee=ye.getContext("2d"),K=W.width/W.height,Ce=F/Q;let Te,$e,Ge,Qe;K>Ce?($e=Q,Te=$e*K,Qe=0,Ge=(Te-F)/2):(Te=F,$e=Te/K,Ge=0,Qe=($e-Q)/2),ye.width=F,ye.height=Q,Ee.drawImage(W,-Ge,-Qe,Te,$e),ye.toBlob(vt=>{w.value=vt,console.log(vt),t.loading=!1},T.type,.8)},W.src=z.target.result},g.readAsDataURL(T)}else if(T.type==="application/pdf"){let z=new FileReader;z.onload=function(W){w.value=new Blob([z.result],{type:"application/pdf"}),t.loading=!1},z.readAsArrayBuffer(T)}}else t.snackbarText="Valitse kuva tiedostotyyppi",t.snackbarColor="red-darken-2",t.snackbar=!0}function te(){let T={attachment:new File([w.value],k.value,{type:w.value.type}),job_id:c.value,receiver_id:v.value};t.sendAttachment(T).then(()=>{b.value=!1})}function se(){const M=URL.createObjectURL(w.value);window.open(M,"_blank")}function de(M){return M.message.length>0?M.message:M.attachment_name}function Pe(M){y.value="",M.attachment_id&&M.attachment_url&&M.attachment_url.length>0&&(t.getFileExtension(M.attachment_name)==="pdf"?window.open(M.attachment_url,"_blank"):(L.value=!0,y.value=M.attachment_url))}return(M,T)=>(I(),R(ee,null,[a(fe,{modelValue:$(t).chatOpen,"onUpdate:modelValue":T[6]||(T[6]=g=>$(t).chatOpen=g),"max-width":"700",persistent:""},{default:i(()=>[a(ie,{"min-width":"300"},{default:i(()=>[S("div",Cl,[S("div",Tl,[a(ke,{src:d.value&&d.value.has_profile_image?`${$(t).url}/profile-image/${d.value.id}`:`${$(t).url}/no-profile-img.png`,cover:"",class:"profile-image"},{placeholder:i(()=>[a(pe,{class:"fill-height ma-0",align:"center",justify:"center"},{default:i(()=>[a(Me,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src"]),S("div",null,[S("div",$l,Y(n.value),1)])]),S("div",{class:"messages",id:"messages",ref_key:"chatContainer",ref:u},[(I(!0),R(ee,null,tt(o.value,(g,z)=>(I(),R("div",{key:z},[g.is_date_seperator?(I(),R("div",Ll,Y(g.time),1)):(I(),R("div",{key:0,class:at(["message",{sent:g.received===0,received:g.received!==0,"pa-0":g.attachment_name&&$(t).getFileExtension(g.attachment_name)!=="pdf"}])},[S("div",{class:"time",style:Dt(g.received===0?"right: 10px":"left: 10px")},Y(C(g.time)),5),S("div",{class:at({attachment:g.attachment_id,loaded:g.attachment_url&&g.attachment_url.length>0}),onClick:W=>Pe(g)},[g.attachment_name?(I(),R("div",Ml,[$(t).getFileExtension(g.attachment_name)==="pdf"?(I(),R(ee,{key:0},[g.attachment_url&&g.attachment_url.length>0?(I(),N(me,{key:0},{default:i(()=>[B(" mdi-file-pdf-box ")]),_:1})):(I(),N(Me,{key:1,indeterminate:"",class:"pdf-loader",color:"grey-lighten-5"})),B(" "+Y(de(g)),1)],64)):(I(),N(ke,{key:1,src:g.attachment_url,class:"attachment-image"},{placeholder:i(()=>[a(pe,{class:"fill-height ma-0 cursor-default",align:"center",justify:"center"},{default:i(()=>[a(Me,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:2},1032,["src"]))])):(I(),R("div",jl,Y(de(g)),1))],10,Il),z==o.value.length-1&&!g.received?(I(),R("div",Bl,Y(D(g)),1)):re("",!0)],2))]))),128)),m.value?(I(),R("div",Dl,El)):re("",!0),a(pa,null,{default:i(({isHovering:g,props:z})=>[r.value?(I(),N(ie,ne({key:0,class:"job-container",elevation:g&&!r.value.is_deleted?8:6,color:"grey-lighten-3"},z,{onClick:T[0]||(T[0]=W=>V()),disabled:r.value.is_deleted}),{default:i(()=>[a(ht,null,{default:i(()=>[S("div",Rl,[a(ke,{src:`${$(t).url}/job-image/${r.value.job_images[0].name}`,cover:"",class:"job-image"},{placeholder:i(()=>[a(pe,{class:"fill-height ma-0 cursor-default",align:"center",justify:"center"},{default:i(()=>[a(Me,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src"]),S("div",Yl,[S("div",Nl,[S("div",Ol,Y(r.value.title),1),S("div",null,Y($(t).jobShortInfo(r.value)),1)]),S("div",Ul,[S("div",zl,"Julkaistu "+Y($(t).formatDate(r.value.created_at)),1)])])])]),_:1}),r.value&&r.value.is_deleted?(I(),R("div",Kl)):re("",!0)]),_:2},1040,["elevation","disabled"])):re("",!0)]),_:1})],512),a(ie,{class:"chat-container",elevation:"3"},{default:i(()=>[a(Be,null,{default:i(()=>[a(pe,{align:"center"},{default:i(()=>[a(ve,{modelValue:f.value,"onUpdate:modelValue":T[1]||(T[1]=g=>f.value=g),outlined:"",placeholder:"Viesti",solo:"","hide-details":"",variant:"solo",onKeyup:ma(H,["enter"]),class:"message-input ml-2 mr-2 mb-2 mt-2",elevation:"12","bg-color":"grey-lighten-2",disabled:!r.value||r.value.is_deleted},null,8,["modelValue","onKeyup","disabled"]),f.value.length==0?(I(),N(E,{key:0,onClick:U,color:"primary",dark:"",fab:"",small:"",class:"send-btn mr-1",disabled:!r.value||r.value.is_deleted},{default:i(()=>[a(me,{size:"24px"},{default:i(()=>[B("mdi-paperclip")]),_:1})]),_:1},8,["disabled"])):(I(),N(E,{key:1,onClick:H,color:"primary",dark:"",fab:"",small:"",class:"send-btn mr-1",disabled:!r.value||r.value.is_deleted},{default:i(()=>[a(me,null,{default:i(()=>[B("mdi-send")]),_:1})]),_:1},8,["disabled"]))]),_:1})]),_:1})]),_:1})]),a(E,{class:"close-btn",flat:"",icon:"mdi-close",onClick:T[2]||(T[2]=g=>j())})]),_:1}),S("input",{type:"file",ref_key:"fileInput",ref:P,onChange:G,style:{display:"none"}},null,544),a(fe,{modelValue:b.value,"onUpdate:modelValue":T[5]||(T[5]=g=>b.value=g),width:"500"},{default:i(()=>[a(ie,null,{default:i(()=>[a(He,null,{default:i(()=>[B(" Vahvista liite ")]),_:1}),a(ht,null,{default:i(()=>[S("div",{onClick:se,class:"attachmentName"},Y(k.value),1)]),_:1}),a(Ht,null,{default:i(()=>[a(Oe,{class:"d-flex justify-space-between"},{default:i(()=>[a(E,{onClick:T[3]||(T[3]=g=>b.value=!1),class:"text-none"},{default:i(()=>[B("Peruuta")]),_:1}),a(E,{color:"primary",onClick:T[4]||(T[4]=g=>te()),class:"text-none"},{default:i(()=>[B("Lähetä")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),Wl,a(fe,{modelValue:L.value,"onUpdate:modelValue":T[8]||(T[8]=g=>L.value=g),id:"chat-large-image",fullscreen:"",width:"100vw"},{default:i(()=>[a(ie,{style:{"background-color":"#333"}},{default:i(()=>[a(ke,{src:y.value,class:"large-image"},{placeholder:i(()=>[a(pe,{class:"fill-height ma-0",align:"center",justify:"center"},{default:i(()=>[a(Me,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src"]),a(E,{class:"close-btn",flat:"",icon:"mdi-close",onClick:T[7]||(T[7]=g=>L.value=!1)})]),_:1})]),_:1},8,["modelValue"])],64))}},Xl=xe(Fl,[["__scopeId","data-v-8fadfb19"]]);//! moment.js locale configuration
//! locale : Finnish [fi]
//! author : Tarmo Aidantausta : https://github.com/bleadof
var Ye="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),Zl=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",Ye[7],Ye[8],Ye[9]];function J(e,s,t,l){var n="";switch(t){case"s":return l?"muutaman sekunnin":"muutama sekunti";case"ss":n=l?"sekunnin":"sekuntia";break;case"m":return l?"minuutin":"minuutti";case"mm":n=l?"minuutin":"minuuttia";break;case"h":return l?"tunnin":"tunti";case"hh":n=l?"tunnin":"tuntia";break;case"d":return l?"päivän":"päivä";case"dd":n=l?"päivän":"päivää";break;case"M":return l?"kuukauden":"kuukausi";case"MM":n=l?"kuukauden":"kuukautta";break;case"y":return l?"vuoden":"vuosi";case"yy":n=l?"vuoden":"vuotta";break}return n=ql(e,l)+" "+n,n}function ql(e,s){return e<10?s?Zl[e]:Ye[e]:e}ae.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:J,ss:J,m:J,mm:J,h:J,hh:J,d:J,dd:J,M:J,MM:J,y:J,yy:J},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});const Jl=q({...ge(),...ka({fullHeight:!0}),...Ve()},"VApp"),Gl=oe()({name:"VApp",props:Jl(),setup(e,s){let{slots:t}=s;const l=Se(e),{layoutClasses:n,getLayoutItem:o,items:r,layoutRef:f}=Va(e),{rtlClasses:m}=st();return ue(()=>{var u;return a("div",{ref:f,class:["v-application",l.themeClasses.value,n.value,m.value,e.class],style:[e.style]},[a("div",{class:"v-application__wrap"},[(u=t.default)==null?void 0:u.call(t)])])}),{getLayoutItem:o,items:r,theme:l}}});const Ql=q({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Tt({location:"bottom"}),...$t(),...De(),...It(),...Ve(),...fa(ya({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),en=oe()({name:"VSnackbar",props:Ql(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:t}=s;const l=Fe(e,"modelValue"),{locationStyles:n}=jt(e),{positionClasses:o}=Bt(e),{scopeId:r}=At(),{themeClasses:f}=Se(e),{colorClasses:m,colorStyles:u,variantClasses:d}=Mt(e),{roundedClasses:w}=Ae(e),k=A();Z(l,b),Z(()=>e.timeout,b),Le(()=>{l.value&&b()});let _=-1;function b(){window.clearTimeout(_);const L=Number(e.timeout);!l.value||L===-1||(_=window.setTimeout(()=>{l.value=!1},L))}function P(){window.clearTimeout(_)}return ue(()=>{const[L]=yt.filterProps(e);return a(yt,ne({ref:k,class:["v-snackbar",{"v-snackbar--active":l.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},o.value,e.class],style:e.style},L,{modelValue:l.value,"onUpdate:modelValue":y=>l.value=y,contentProps:ne({class:["v-snackbar__wrapper",f.value,m.value,w.value,d.value],style:[n.value,u.value],onPointerenter:P,onPointerleave:b},L.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},r),{default:()=>[Lt(!1,"v-snackbar"),t.default&&a("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[t.default()]),t.actions&&a(be,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[a("div",{class:"v-snackbar__actions"},[t.actions()])]})],activator:t.activator})}),ga({},k)}}),sn={__name:"Default",setup(e){ae.locale("fi");const s=he();return(t,l)=>(I(),N(Gl,null,{default:i(()=>[a(Ja),(I(),N(dl,{key:$(s).updateMainComponent})),a(kl),a(xl),a(wl),a(Xl),a(en,{modelValue:$(s).snackbar,"onUpdate:modelValue":l[1]||(l[1]=n=>$(s).snackbar=n),elevation:"24",color:$(s).snackbarColor,timeout:5e3},{actions:i(()=>[a(E,{variant:"text",onClick:l[0]||(l[0]=n=>$(s).snackbar=!1)},{default:i(()=>[B(" Sulje ")]),_:1})]),default:i(()=>[B(Y($(s).snackbarText)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}};export{sn as default};
