import{ad as D,ac as F,ab as $,r as u,c as R,ae as c,af as m,an as i,X as V,t as e,ag as o,aj as U,P as j,a6 as d,aG as C,ao as x,ai as L,aF as O,ap as l,ak as r,ah as P,aC as T,aD as A}from"./index-c33e5e7d.js";import{_ as E,V as I,a as w}from"./_plugin-vue_export-helper-b629449e.js";import{V as v}from"./VContainer-dc1123d3.js";import{V as h}from"./VDivider-d608bd1f.js";const G=_=>(T("data-v-ae4a3d0f"),_=_(),A(),_),M={class:"main-wrapper"},X={class:"main-content"},q={class:"carousel mt-2"},H={id:"job-title"},K={id:"job-description"},Q={class:"job-info"},W={class:"job-info"},Y={class:"job-info"},Z={class:"job-info"},ee={key:0},ae={class:"job-info"},te={key:1,class:"listing-deleted"},se=G(()=>i("div",null," Listaus poistettu ",-1)),oe={__name:"Job",setup(_){const J=D(),g=F(),s=$(),a=u({});s.loading=!0,u(null),u(null);const k=u(""),B=R(()=>a.value.user&&s.user&&a.value.user.hashed_id===s.user.id),b=u(0);s.currentJobId=J.params.id,s.fetchJob(s.currentJobId).then(n=>{let t=n.data;t.error||(a.value=t.job,k.value=t.job.user.first_name+" "+t.job.user.last_name,s.currentChatUserId=t.job.user.hashed_id),s.loading=!1});function S(){window.history.length>1?g.back():g.replace({path:"/jobs"})}function z(){g.replace({path:"/jobs"})}window.scrollTo(0,0);function N(){s.chatOpen=!0}function f(n=0,t=!1){return a.value.pictures&&a.value.pictures>0?s.url+"/job-image/"+a.value.hashed_id+"/image_"+n+(t?"_low":""):s.url+"/no-img.png"}function ie(){}return(n,t)=>(c(),m("div",M,[i("div",X,[a.value.is_deleted?(c(),m("div",te,[se,e(j,{color:"primary",onClick:t[2]||(t[2]=y=>z())},{default:o(()=>[r(" Selaa töitä ")]),_:1})])):(c(),m(V,{key:0},[e(v,null,{default:o(()=>[e(j,{flat:"",rounded:"",id:"back-btn",onClick:S},{default:o(()=>[e(d,{icon:"mdi-arrow-left"})]),_:1}),e(v,{id:"images-container"},{default:o(()=>[e(v,{class:"main-image-container"},{default:o(()=>[e(I,{src:f(b.value),"lazy-src":f(b.value,!0),contain:"",class:"job-image",id:"mainJobImage",onClick:t[0]||(t[0]=y=>void 0)},{placeholder:o(()=>[e(w,{class:"fill-height ma-0",align:"center",justify:"center"},{default:o(()=>[e(C,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src","lazy-src"])]),_:1}),i("div",q,[(c(!0),m(V,null,x(a.value.pictures,(y,p)=>(c(),L(I,{key:p,src:f(p),"lazy-src":f(p,!0),cover:"",class:O(["carousel-img",n.image===n.mainImage?"selected":""]),onClick:le=>b.value=p,"aspect-ratio":"1"},{placeholder:o(()=>[e(w,{class:"fill-height ma-0",align:"center",justify:"center"},{default:o(()=>[e(C,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:2},1032,["src","lazy-src","onClick","class"]))),128))])]),_:1}),i("h1",H,l(a.value.title),1),e(h),i("p",K,l(a.value.description),1),e(h),i("div",Q,[e(d,{icon:"mdi-map-marker"}),r(" "+l(a.value.address),1)]),i("div",W,[e(d,{icon:"mdi-calendar-range"}),r(" "+l(P(s).formatDate(a.value.date)),1)]),i("div",Y,[e(d,{icon:"mdi-timer-outline"}),r(" "+l(a.value.estimated_time)+"h ",1)]),i("div",Z,[e(d,{icon:"mdi-cash"}),r(" "+l(a.value.full_salary)+"€ ",1)])]),_:1}),e(h,{class:"mt-5 mb-5"}),B.value?U("",!0):(c(),m("div",ee,[e(v,null,{default:o(()=>[i("div",ae,[e(d,{icon:"mdi-account"}),r(" "+l(k.value),1)]),e(j,{class:"mt-4",color:"primary",onClick:t[1]||(t[1]=y=>N())},{default:o(()=>[r(" Ota yhteyttä ")]),_:1})]),_:1}),e(h,{class:"mt-5 mb-5"})]))],64))])]))}},ue=E(oe,[["__scopeId","data-v-ae4a3d0f"]]);export{ue as default};
