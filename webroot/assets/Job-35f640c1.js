import{ay as z,ax as N,aw as D,r as h,c as R,az as m,aA as v,aP as o,t as e,aB as s,aE as S,P as g,aa as c,aO as j,a9 as x,aR as O,aD as P,aS as U,aQ as i,aG as l,aC as A}from"./index-285710b9.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import{V as _}from"./VContainer-033de686.js";import{V as y}from"./VImg-dc7ef883.js";import{V}from"./VRow-c469570f.js";import{V as f}from"./VDivider-737558de.js";const F={class:"main-wrapper"},T={class:"main-content"},$={class:"carousel"},G={id:"job-title"},L={id:"job-description"},M={class:"job-info"},Q={class:"job-info"},q={class:"job-info"},H={class:"job-info"},K={key:0},W={class:"job-info"},X={__name:"Job",setup(Y){const k=z(),C=N(),t=D(),a=h({}),b=h(""),I=R(()=>a.value.user&&t.user&&a.value.user.hashed_id===t.user.id),p=h(0);t.currentJobId=k.params.id,t.fetchJob(t.currentJobId).then(n=>{let r=n.data;r.error||(a.value=r.job,b.value=r.job.user.first_name+" "+r.job.user.last_name,t.currentChatUserId=r.job.user.hashed_id)});function w(){C.replace({path:"/jobs"})}window.scrollTo(0,0);function B(){t.chatOpen=!0}function u(n=0){return a.value.pictures&&a.value.pictures>0?t.url+"/job-image/"+a.value.hashed_id+"/"+n:t.url+"/no-img.png"}return(n,r)=>(m(),v("div",F,[o("div",T,[e(_,null,{default:s(()=>[e(g,{flat:"",rounded:"",id:"back-btn",onClick:w},{default:s(()=>[e(c,{icon:"mdi-arrow-left"})]),_:1}),e(_,{id:"images-container"},{default:s(()=>[e(_,{class:"main-image-container"},{default:s(()=>[e(y,{src:u(p.value),"lazy-src":u(p.value),contain:"",class:"job-image"},{placeholder:s(()=>[e(V,{class:"fill-height ma-0",align:"center",justify:"center"},{default:s(()=>[e(j,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:1},8,["src","lazy-src"])]),_:1}),o("div",$,[(m(!0),v(x,null,O(a.value.pictures,(J,d)=>(m(),P(y,{key:d,src:u(d),"lazy-src":u(d),contain:"",class:U(["carousel-img",n.image===n.mainImage?"selected":""]),onClick:Z=>p.value=d},{placeholder:s(()=>[e(V,{class:"fill-height ma-0",align:"center",justify:"center"},{default:s(()=>[e(j,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:2},1032,["src","lazy-src","onClick","class"]))),128))])]),_:1}),o("h1",G,i(a.value.title),1),e(f),o("p",L,i(a.value.description),1),e(f),o("div",M,[e(c,{icon:"mdi-map-marker"}),l(" "+i(a.value.location||"Seinäjoki"),1)]),o("div",Q,[e(c,{icon:"mdi-calendar-range"}),l(" "+i(A(t).formatDate(a.value.date)),1)]),o("div",q,[e(c,{icon:"mdi-timer-outline"}),l(" "+i(a.value.estimated_time)+"h ",1)]),o("div",H,[e(c,{icon:"mdi-cash"}),l(" "+i(a.value.full_salary)+"€ ",1)])]),_:1}),e(f,{class:"mt-5 mb-5"}),I.value?S("",!0):(m(),v("div",K,[e(_,null,{default:s(()=>[o("div",W,[e(c,{icon:"mdi-account"}),l(" "+i(b.value),1)]),e(g,{class:"mt-4",color:"primary",onClick:r[0]||(r[0]=J=>B())},{default:s(()=>[l(" Ota yhteyttä ")]),_:1})]),_:1}),e(f,{class:"mt-5 mb-5"})]))])]))}},ie=E(X,[["__scopeId","data-v-ff0da7e7"]]);export{ie as default};
